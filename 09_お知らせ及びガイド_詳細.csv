大分類,中分類,項目,詳細内容
━━━ UI基本設計書 ━━━,,,
基本情報,機能名,お知らせ及びガイド,
,対象画面,お知らせ一覧ページ ・ お知らせ詳細ページ ・ お知らせ管理ページ ・ ガイドページ,
,技術スタック,Next.js 15 ・ TypeScript ・ Prisma ・ PostgreSQL,
,作成日,2025-10-28,
━━━ 1. 画面概要 ━━━,,,
お知らせ一覧ページ,機能,お知らせ一覧表示,全てのお知らせを一覧表示 ・ タイトル・作成日時・要約を表示 ・ 最新順に並び替え
,ファイル,src/app/notice/page.tsx,
お知らせ詳細ページ,機能,お知らせ詳細表示,お知らせの詳細情報を表示 ・ タイトル・内容・作成日時・更新日時を表示 ・ マークダウン対応
,ファイル,src/app/notice/[noticeId]/page.tsx,
お知らせ管理ページ,機能,お知らせ管理（管理者専用）,お知らせ一覧を表示 ・ 作成・編集・削除ボタン付き
,ファイル,src/app/notice/admin/page.tsx,
お知らせ編集ページ,機能,お知らせ編集（管理者専用）,お知らせを作成または編集 ・ タイトル・内容を入力 ・ マークダウンエディタ
,ファイル,src/app/notice/admin/[noticeId]/page.tsx,
ガイドページ,機能,ガイド表示,カテゴリー別にガイドを表示 ・ メインカテゴリーとサブカテゴリーで分類 ・ マークダウン対応
,ファイル,src/app/guide/page.tsx,
━━━ 2. 前提・制約 ━━━,,,
データ取得,方式,サーバーサイド取得 ・ ページネーション対応,
権限要件,必要権限,お知らせ・ガイドの作成・編集・削除はMODERATOR以上の権限が必要,
マークダウン対応,記述方式,お知らせ・ガイドの内容はマークダウン形式で記述可能 ・ 表示時にHTMLに変換,
カテゴリー,分類方式,ガイドはメインカテゴリーとサブカテゴリーで分類 ・ 事前定義されたカテゴリーから選択,
━━━ 3. 関連URL・遷移 ━━━,,,
URL一覧,/notice,お知らせ一覧ページ,
,/notice/[noticeId],お知らせ詳細ページ,
,/notice/admin,お知らせ管理ページ（管理者専用）,
,/notice/admin/[noticeId],お知らせ編集ページ（管理者専用）,
,/guide,ガイドページ,
遷移フロー,基本フロー,お知らせ一覧 → 詳細 または 管理ページ → 作成/編集 → 保存 → 一覧に戻る,
━━━ 4. 役割・権限 ━━━,,,
全ユーザー,アクセス権限,お知らせ・ガイドの閲覧は未ログインでも可能,
MODERATOR以上,管理権限,お知らせ・ガイドの作成・編集・削除が可能,
━━━ 5. 主要機能一覧 ━━━,,,
お知らせ一覧閲覧,一覧表示,全てのお知らせを一覧表示 ・ タイトル・作成日時・要約を表示,
お知らせ詳細閲覧,詳細表示,お知らせの詳細情報を表示 ・ マークダウン形式で記述された内容をHTMLに変換して表示,
お知らせ作成,作成機能,管理者がお知らせを作成 ・ タイトル・内容を入力 ・ マークダウンエディタ,
お知らせ編集,編集機能,管理者が既存のお知らせを編集,
お知らせ削除,削除機能,管理者がお知らせを削除 ・ 確認ダイアログ付き,
ガイド閲覧,閲覧機能,カテゴリー別にガイドを表示 ・ メインカテゴリーとサブカテゴリーで分類,
ガイド作成,作成機能,管理者がガイドを作成 ・ タイトル・内容・カテゴリーを入力,
ガイド編集,編集機能,管理者が既存のガイドを編集,
ガイド削除,削除機能,管理者がガイドを削除 ・ 確認ダイアログ付き,
カテゴリー別フィルタリング,フィルター,ガイドをメインカテゴリー・サブカテゴリーでフィルタリング,
━━━ 6. 画面構成（UIブロック） ━━━,,,
お知らせ一覧,リスト表示,お知らせカードをリスト形式で表示 ・ タイトル・作成日時・要約（最初の200文字） ・ クリックで詳細ページへ,
お知らせカード,カード表示,タイトル ・ 作成日時 ・ 要約を表示 ・ ホバーエフェクト付き,
お知らせ詳細,詳細表示,タイトル ・ 作成日時 ・ 更新日時 ・ 内容を表示 ・ マークダウン形式の内容をHTMLに変換,
戻るボタン,ナビゲーション,お知らせ詳細ページに戻るボタンを配置 ・ お知らせ一覧へ遷移,
お知らせ管理テーブル,テーブル表示,タイトル ・ 作成日時 ・ 更新日時 ・ アクションボタン（編集・削除）を表示,
お知らせ作成ボタン,操作ボタン,お知らせ管理ページの上部に配置 ・ クリックでお知らせ作成ページへ遷移,
お知らせフォーム,入力フォーム,タイトル ・ 内容入力欄 ・ マークダウンエディタ ・ プレビュー機能 ・ 保存ボタン・キャンセルボタン,NoticeForm.tsx
ガイドカテゴリータブ,タブ表示,メインカテゴリーをタブで表示 ・ タブ選択でサブカテゴリーとガイド一覧を表示,
ガイド一覧,アコーディオン,各カテゴリーのガイドをアコーディオン形式で表示 ・ クリックで内容を展開,
ガイド内容,コンテンツ表示,マークダウン形式の内容をHTMLに変換して表示,
━━━ 7. 画面項目定義 ━━━,,,
【お知らせ】タイトル,型: string,必須 ・ 1〜200文字,
【お知らせ】内容,型: string,必須 ・ 10〜10000文字,マークダウン対応
【お知らせ】作成日時,型: datetime,必須 ・ ISO 8601形式,自動生成
【お知らせ】更新日時,型: datetime,必須 ・ ISO 8601形式,自動生成
【ガイド】タイトル,型: string,必須 ・ 1〜200文字,
【ガイド】内容,型: string,必須 ・ 10〜10000文字,マークダウン対応
【ガイド】メインカテゴリー,型: string,必須 ・ 事前定義されたカテゴリーから選択,基本操作 ・ キャラクター ・ チャットなど
【ガイド】サブカテゴリー,型: string,任意 ・ 事前定義されたカテゴリーから選択,
【ガイド】作成日時,型: datetime,必須 ・ ISO 8601形式,自動生成
【ガイド】更新日時,型: datetime,必須 ・ ISO 8601形式,自動生成
━━━ 8. フィルタ仕様 ━━━,,,
ガイドフィルター,フィルター方式,メインカテゴリー・サブカテゴリーでフィルタリング可能,
並び替え,ソート順,お知らせは作成日時順（最新順）に並び替え,
━━━ 9. API I/F 仕様 ━━━,,,
GET /api/notice,パラメータ,{ page? ・ limit? },レスポンス: { notices: [] ・ total } ・ お知らせ一覧取得API
POST /api/notice,パラメータ,{ title ・ content },レスポンス: { success ・ noticeId } ・ お知らせ作成API（管理者専用）
GET /api/notice/[noticeId],パラメータ,パスなし,レスポンス: { notice: { id ・ title ・ content ・ createdAt ・ updatedAt } } ・ お知らせ詳細取得API
PUT /api/notice/[noticeId],パラメータ,{ title ・ content },レスポンス: { success } ・ お知らせ更新API（管理者専用）
DELETE /api/notice/[noticeId],パラメータ,パスなし,レスポンス: { success } ・ お知らせ削除API（管理者専用）
GET /api/guides,パラメータ,{ mainCategory? ・ subCategory? },レスポンス: { guides: [] } ・ ガイド一覧取得API
━━━ 10. エラー・通知文言 ━━━,,,
作成エラー,表示タイミング: タイトル未入力時,タイトルは必須です。,
作成エラー,表示タイミング: 内容が短すぎる時,内容は10文字以上入力してください。,
権限エラー,表示タイミング: 権限不足時,この操作を実行する権限がありません。,
削除確認（お知らせ）,表示タイミング: お知らせ削除ボタン押下時,このお知らせを削除してもよろしいですか？,
削除確認（ガイド）,表示タイミング: ガイド削除ボタン押下時,このガイドを削除してもよろしいですか？,
成功メッセージ,表示タイミング: お知らせ作成成功時,お知らせを作成しました。,
成功メッセージ,表示タイミング: お知らせ更新成功時,お知らせを更新しました。,
成功メッセージ,表示タイミング: お知らせ削除成功時,お知らせを削除しました。,
成功メッセージ,表示タイミング: ガイド作成成功時,ガイドを作成しました。,
成功メッセージ,表示タイミング: ガイド更新成功時,ガイドを更新しました。,
成功メッセージ,表示タイミング: ガイド削除成功時,ガイドを削除しました。,
━━━ 11. モーダル仕様 ━━━,,,
お知らせ削除確認,トリガー: 削除ボタン押下時,内容: 削除確認メッセージ,ボタン: キャンセル ・ 削除
ガイド削除確認,トリガー: 削除ボタン押下時,内容: 削除確認メッセージ,ボタン: キャンセル ・ 削除
プレビュー,トリガー: プレビューボタン押下時,内容: マークダウン形式の内容をHTMLに変換してプレビュー表示,ボタン: 閉じる
━━━ 12. 認証・ガード ━━━,,,
認証不要,アクセス制御,お知らせ・ガイドの閲覧は未ログインでも可能,
権限チェック,制御方式,お知らせ・ガイドの作成・編集・削除はMODERATOR以上の権限が必要 ・ 権限不足時は403エラー表示,
━━━ 13. 非機能要件 ━━━,,,
パフォーマンス,最適化手法,お知らせ一覧はページネーション対応 ・ ガイドはキャッシュ（1時間）,
セキュリティ,セキュリティ対策,マークダウン内容はXSS対策でサニタイズ ・ HTMLタグはエスケープ,
スケーラビリティ,拡張性,お知らせ・ガイドはインデックス最適化 ・ 大量データにも対応,
可用性,エラー処理,API失敗時はリトライ機能 ・ エラー時は適切なエラーメッセージ表示,
━━━ 14. テスト観点 ━━━,,,
お知らせ一覧: 表示確認,テストケース,お知らせ一覧表示 ・ 最新順に並び替え確認,
お知らせ詳細: 表示確認,テストケース,お知らせ詳細表示 ・ マークダウン形式の内容がHTMLに変換されることを確認,
お知らせ作成: 正常系,テストケース,管理者がお知らせ作成成功 ・ マークダウンエディタ動作確認,
お知らせ編集: 正常系,テストケース,管理者がお知らせ編集成功,
お知らせ削除: 正常系,テストケース,管理者がお知らせ削除成功 ・ 確認ダイアログ表示確認,
権限チェック: 作成可能,テストケース,MODERATOR以上の権限で作成・編集・削除可能確認,
権限チェック: 作成不可,テストケース,USER権限で作成・編集・削除不可確認,
ガイド閲覧: 表示確認,テストケース,カテゴリー別にガイド表示 ・ アコーディオン動作確認,
ガイド作成: 正常系,テストケース,管理者がガイド作成成功,
ガイド編集: 正常系,テストケース,管理者がガイド編集成功,
ガイド削除: 正常系,テストケース,管理者がガイド削除成功,
━━━ 15. 今後の拡張余地 ━━━,,,
お知らせ通知,提案内容,新しいお知らせ投稿時にユーザーに通知,
お知らせカテゴリー,提案内容,お知らせをカテゴリー別に分類（メンテナンス ・ イベント ・ アップデートなど）,
お知らせピン留め,提案内容,重要なお知らせを一覧の最上部に固定,
ガイド検索,提案内容,ガイドをキーワードで検索する機能,
ガイド評価,提案内容,ユーザーがガイドに評価（役に立った / 役に立たなかった）を付ける機能,
多言語対応,提案内容,お知らせ・ガイドの多言語対応,

# 💾 100명 규모: Supabase vs AWS RDS 비교 분석

## 📊 100명 사용자 기준 비용 비교

### 시나리오 A: Supabase + Netlify (현재 구성) ✅ 추천

#### 월간 비용
| 항목 | 비용 | 비고 |
|------|------|------|
| Supabase Pro | 3,750엔 | 100GB 스토리지, 백업 포함 |
| Netlify Pro | 2,850엔 | 기본 플랜 |
| Netlify 함수 | 6,600엔 | 234,000 요청/월 (100명 기준) |
| **합계** | **13,200엔** | **월 약 1.3만엔** |

#### 장점
- ✅ **pgvector 이미 설정됨**: 벡터 검색 기능 즉시 사용 가능
- ✅ **관리 불필요**: 백업, 스케일링, 모니터링 자동
- ✅ **개발 속도 빠름**: 마이그레이션 시간 0시간
- ✅ **스토리지 포함**: Supabase Storage 100GB 포함
- ✅ **실시간 기능**: Supabase Realtime 사용 가능 (향후 확장)
- ✅ **인증 시스템 통합**: Supabase Auth와 통합 가능

#### 단점
- ⚠️ **비용이 AWS보다 약 2~3배 비쌈**: 100명 기준 월 1.3만엔 vs 0.5만엔
- ⚠️ **커스터마이징 제한**: Supabase의 제약사항

---

### 시나리오 B: AWS RDS + Lambda (AWS 이전)

#### 월간 비용
| 항목 | 비용 | 비고 |
|------|------|------|
| RDS PostgreSQL (t3.micro) | 3,000~5,000엔 | 2vCPU, 1GB RAM, 20GB 스토리지 |
| Lambda + API Gateway | 500엔 | 234,000 요청/월 |
| 스토리지 (S3 또는 R2) | 0~1,000엔 | 이미지 스토리지 (R2 사용 시 거의 0엔) |
| 데이터 전송 | 500엔 | RDS → Lambda 간 전송 |
| **합계** | **4,000~7,000엔** | **월 약 0.4~0.7만엔** |

#### 장점
- ✅ **비용이 저렴**: 월 약 0.4~0.7만엔 (Supabase 대비 50% 절감)
- ✅ **완전한 제어**: 모든 설정 커스터마이징 가능
- ✅ **확장성**: 향후 스케일링 시 유리

#### 단점
- ❌ **마이그레이션 비용**: 개발 시간 1~2주 소요
- ❌ **pgvector 설정 필요**: PostgreSQL 확장 기능 수동 설치
- ❌ **벡터 인덱스 설정**: ivfflat 인덱스 수동 생성 및 튜닝
- ❌ **백업 설정 필요**: 자동 백업 스크립트 작성
- ❌ **모니터링 설정 필요**: CloudWatch 등 설정
- ❌ **연결 풀링 설정**: PgBouncer 또는 RDS Proxy 설정
- ❌ **DevOps 지식 필요**: 인프라 관리 능력 필수
- ❌ **초기 설정 복잡**: 네트워크, 보안 그룹, VPC 설정 등

---

## 💰 비용 비교 (연간)

| 구성 | 월 비용 | 연 비용 | 절감액 |
|------|---------|---------|--------|
| **Supabase + Netlify** | 13,200엔 | 158,400엔 | - |
| **AWS RDS + Lambda** | 5,000엔 | 60,000엔 | 98,400엔 |

**연간 절감액: 약 10만엔**

---

## ⏰ 마이그레이션 비용 분석

### 개발 시간 비용
- **pgvector 설정**: 4시간
- **벡터 인덱스 마이그레이션**: 8시간
- **연결 설정 (VPC, Security Group)**: 4시간
- **백업 시스템 구축**: 8시간
- **모니터링 설정**: 4시간
- **테스트 및 검증**: 16시간
- **문서화**: 4시간
- **합계**: 약 48시간 (6일 작업)

### 개발자 시간 비용 (시간당 5,000엔 기준)
- **마이그레이션 비용**: 48시간 × 5,000엔 = **240,000엔**

### 회수 기간 계산
- **연간 절감액**: 98,400엔
- **마이그레이션 비용**: 240,000엔
- **회수 기간**: 240,000엔 ÷ 98,400엔/년 = **약 2.4년**

---

## 🎯 결론: 100명까지는 Supabase 유지 추천

### 추천 이유

#### 1. **마이그레이션 비용이 절감액보다 큼**
- 마이그레이션 비용: 24만엔
- 연간 절감액: 9.8만엔
- **회수 기간: 2.4년** → 100명 규모에서는 불리

#### 2. **개발 속도가 비용보다 중요**
- 100명 규모는 **초기 성장 단계**
- 사용자 확보에 집중해야 함
- 인프라 관리에 시간 낭비 비효율적

#### 3. **pgvector 설정이 복잡**
- 현재 Supabase에서 이미 동작 중
- AWS RDS로 이전 시 수동 설정 필요
- 벡터 인덱스 튜닝 필요

#### 4. **리스크가 큼**
- 마이그레이션 중 다운타임 가능
- 데이터 손실 위험
- 벡터 검색 성능 저하 가능

---

## 📈 언제 AWS로 이전해야 할까?

### 이전 추천 시점: **500~1,000명**

#### 500명 기준
- **Supabase 비용**: 월 24,810엔 (이미지 비용 포함)
- **AWS 비용**: 월 8,000엔
- **연간 절감액**: 약 20만엔
- **회수 기간**: 1.2년 → **이전 가치 있음**

#### 1,000명 기준
- **Supabase 비용**: 월 48,584엔 (이미지 비용 포함)
- **AWS 비용**: 월 15,000엔
- **연간 절감액**: 약 40만엔
- **회수 기간**: 0.6년 → **강력 추천**

---

## 🚀 단계별 마이그레이션 전략

### Phase 1: 0~100명 (현재)
- ✅ **Supabase + Netlify 유지**
- ✅ 개발 속도 우선
- ✅ 사용자 확보에 집중

### Phase 2: 100~500명
- ⚠️ **Supabase + Netlify 계속 사용**
- ⚠️ AWS 이전 준비 시작
- ⚠️ DevOps 엔지니어 채용 또는 학습

### Phase 3: 500~1,000명
- 🎯 **AWS RDS + Lambda로 이전**
- 🎯 연간 20~40만엔 절감
- 🎯 회수 기간 1년 이내

### Phase 4: 1,000명~
- 🎯 **AWS 전체 인프라로 이전**
- 🎯 최적화된 비용 구조
- 🎯 높은 확장성

---

## 📊 100명 기준 상세 비교표

| 항목 | Supabase + Netlify | AWS RDS + Lambda | 차이 |
|------|-------------------|------------------|------|
| **월 비용** | 13,200엔 | 5,000엔 | -8,200엔 |
| **연 비용** | 158,400엔 | 60,000엔 | -98,400엔 |
| **마이그레이션 비용** | 0엔 | 240,000엔 | +240,000엔 |
| **회수 기간** | - | 2.4년 | - |
| **관리 시간** | 0시간/월 | 4~8시간/월 | - |
| **pgvector 설정** | ✅ 자동 | ❌ 수동 | - |
| **백업** | ✅ 자동 | ❌ 수동 설정 | - |
| **모니터링** | ✅ 기본 제공 | ❌ CloudWatch 설정 | - |
| **개발 속도** | ✅ 빠름 | ❌ 느림 (마이그레이션 필요) | - |
| **확장성** | ⚠️ 제한적 | ✅ 무제한 | - |

---

## ✅ 최종 권장사항

### 100명까지: **Supabase + Netlify 유지** ✅

**이유:**
1. ✅ 마이그레이션 비용이 절감액보다 큼 (회수 기간 2.4년)
2. ✅ 개발 속도가 비용보다 중요 (초기 성장 단계)
3. ✅ pgvector 설정이 이미 완료됨
4. ✅ 관리 시간이 필요 없음
5. ✅ 리스크가 적음

### 500명 도달 시: **AWS 이전 검토 시작**

**이유:**
1. ✅ 연간 절감액이 20만엔 이상
2. ✅ 회수 기간이 1년 이내
3. ✅ 사용자 기반이 안정화됨
4. ✅ DevOps 리소스 확보 가능

---

## 💡 실용적인 조언

### 지금 해야 할 일
1. ✅ **Supabase + Netlify로 계속 개발**
2. ✅ **사용자 확보에 집중**
3. ✅ **500명 도달 목표 설정**

### 500명 도달 전에 준비할 일
1. ⚠️ **AWS 계정 생성**
2. ⚠️ **DevOps 엔지니어 채용 또는 학습**
3. ⚠️ **마이그레이션 계획 수립**
4. ⚠️ **테스트 환경 구축**

### 500명 도달 시
1. 🎯 **AWS RDS + Lambda로 이전**
2. 🎯 **비용 절감 효과 확인**
3. 🎯 **성능 모니터링**

---

## 📞 참고 자료

- **Supabase 가격**: https://supabase.com/pricing
- **AWS RDS 가격**: https://aws.amazon.com/rds/pricing/
- **pgvector 문서**: https://github.com/pgvector/pgvector

---

**결론: 100명까지는 Supabase + Netlify를 유지하고, 500명 도달 시 AWS 이전을 검토하는 것이 최적의 전략입니다!** 🎯


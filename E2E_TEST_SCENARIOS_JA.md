# E2Eテスト シナリオ（日本語）

**作成日**: 2025年12月22日  
**状態**: ✅ 実際に実装されている機能のみを含む（コードベース検証完了）

---

## 📋 目次

1. [ユーザー観点シナリオ](#1-ユーザー観点シナリオ)
2. [管理者観点シナリオ](#2-管理者観点シナリオ)
3. [その他細かい機能シナリオ](#3-その他細かい機能シナリオ)

---

## 1. ユーザー観点シナリオ

### 1.1 認証・アカウント管理

#### シナリオ 1-1-1: メールアドレス登録
- 登録ページにアクセス
- メールアドレス、パスワード、名前、電話番号、ニックネーム入力
- 登録実行
- プロフィール完成ページへリダイレクト確認
- プロフィール完成（生年月日、性別、自己紹介など入力）
- 完了後ホーム画面へ移動確認

#### シナリオ 1-1-2: Googleアカウント登録
- Googleログインボタンをクリック
- Google認証を進める
- 追加情報入力（ニックネームなど）
- 登録完了確認

#### シナリオ 1-1-3: メールアドレスログイン
- ログインページにアクセス
- メールアドレスとパスワードを入力
- ログインボタンをクリック
- ホーム画面へリダイレクト確認
- セッション維持確認

#### シナリオ 1-1-4: Googleアカウントログイン
- Googleログインボタンをクリック
- Google認証を進める
- ログイン完了後ホーム画面移動確認

#### シナリオ 1-1-5: ログアウト
- ログアウトボタンをクリック
- ログアウト完了確認
- ログインページへリダイレクト確認

#### シナリオ 1-1-6: パスワード変更
- マイページにアクセス
- パスワード変更メニューを選択
- 現在のパスワードを入力
- 新しいパスワードを入力・確認
- 変更実行
- 変更成功メッセージ確認
- 新しいパスワードでログイン確認

#### シナリオ 1-1-7: 2FA（2段階認証）有効化
- 2FA設定ページにアクセス
- 2FA有効化を実行
- 認証コードを入力
- 有効化完了確認
- 次回ログイン時に2FAコード要求確認

#### シナリオ 1-1-8: メール認証
- メール認証をリクエスト
- 認証メール受信確認
- 認証リンクをクリック
- 認証完了確認

---

### 1.2 キャラクター探索・検索

#### シナリオ 1-2-1: キャラクター検索
- ホーム画面または検索ページにアクセス
- 検索バーにキーワードを入力
- 検索実行
- 検索結果一覧表示確認
- 検索結果からキャラクターを選択
- キャラクター詳細ページへ移動確認

#### シナリオ 1-2-2: キャラクター一覧確認
- キャラクター一覧ページにアクセス
- キャラクターリスト表示確認
- カテゴリーフィルターで絞り込み（例：「ロマンス」「ファンタジー」など）
- タグフィルターで絞り込み
- ソート機能確認（新着順、人気順、いいね順）
- ページネーション動作確認

#### シナリオ 1-2-3: キャラクター詳細確認
- キャラクター詳細ページにアクセス
- キャラクター名、説明表示確認
- キャラクター画像表示・画像切り替え確認
- 詳細設定、最初の状況、最初のメッセージ表示確認
- いいね数、コメント数表示確認
- 作成者情報表示確認

#### シナリオ 1-2-4: ブロックした作成者のキャラクター検索除外確認
- 他ユーザーのプロフィールページにアクセス
- ユーザーをブロック実行
- キャラクター検索を実行
- ブロックしたユーザーのキャラクターが検索結果に表示されないことを確認
- キャラクター一覧からも除外されることを確認
- ランキングからも除外されることを確認

---

### 1.3 キャラクター作成・管理

#### シナリオ 1-3-1: キャラクター作成（AI生成機能使用）
- キャラクター作成ページにアクセス
- カテゴリーを選択
- AIプロフィール生成ボタンをクリック
- 生成された名前、説明確認
- AI詳細設定生成ボタンをクリック
- 生成された詳細設定確認
- AI最初の状況生成ボタンをクリック
- 生成された最初の状況、最初のメッセージ確認
- 画像をアップロード（複数枚）
- メイン画像を設定
- ハッシュタグを追加
- 公開設定を選択（公開/非公開）
- セーフティフィルター設定
- 保存実行
- 作成完了確認
- 作成したキャラクターが自分のキャラクター一覧に表示されることを確認

#### シナリオ 1-3-2: キャラクター作成（手動入力）
- キャラクター作成ページにアクセス
- 名前、説明、詳細設定、最初の状況、最初のメッセージを手動入力
- 画像をアップロード
- カテゴリー、ハッシュタグを設定
- 公開設定、セーフティフィルター設定
- 保存実行
- 作成完了確認

#### シナリオ 1-3-3: キャラクター編集
- 自分のキャラクター管理ページにアクセス
- 編集するキャラクターを選択
- 編集ページへ移動
- 情報を修正（名前、説明など）
- 画像を追加/削除
- 保存実行
- 変更内容が反映されていることを確認
- キャラクター詳細ページで変更確認

#### シナリオ 1-3-4: キャラクター削除
- 自分のキャラクター管理ページにアクセス
- 削除するキャラクターを選択
- 削除ボタンをクリック
- 確認ダイアログで確認
- 削除完了確認
- キャラクター一覧から削除されたキャラクターが表示されないことを確認

#### シナリオ 1-3-5: キャラクタークローン
- 他ユーザーが作成したキャラクター詳細ページにアクセス
- クローンボタンをクリック
- クローンされたキャラクターが自分のキャラクター一覧に追加されることを確認
- クローンされたキャラクターが編集可能であることを確認

#### シナリオ 1-3-6: キャラクターExport
- 自分のキャラクター管理ページにアクセス
- Exportするキャラクターを選択
- Exportボタンをクリック
- JSONファイルダウンロード確認

#### シナリオ 1-3-7: キャラクターImport
- キャラクター作成ページにアクセス
- Importボタンをクリック
- JSONファイルを選択
- データ読み込み確認
- 編集後保存可能であることを確認

---

### 1.4 チャット機能

#### シナリオ 1-4-1: チャット開始（新規）
- キャラクター詳細ページにアクセス
- 「チャット開始」ボタンをクリック
- チャットページへ移動確認
- 最初のメッセージ表示確認
- チャットID生成確認

#### シナリオ 1-4-2: メッセージ送信・受信
- チャット画面でメッセージを入力
- 送信ボタンをクリック
- 自分のメッセージが画面に表示されることを確認
- ポイント減算確認（必要に応じて）
- AI応答を待つ（ローディング表示確認）
- AI応答受信確認
- 応答が画面に表示されることを確認

#### シナリオ 1-4-3: チャット履歴確認
- チャットリストページにアクセス
- 過去のチャット一覧表示確認
- 特定のチャットを選択
- チャット内容読み込み確認
- メッセージ履歴表示確認

#### シナリオ 1-4-4: チャットキャンセル
- チャット中にキャンセルボタンをクリック
- キャンセル確認ダイアログ表示
- キャンセル実行
- チャットがキャンセルされたことを確認
- ポイント返金確認（必要に応じて）

#### シナリオ 1-4-5: チャットノート作成
- チャット画面でノート機能を使用
- ノートを記入
- 保存確認
- 次回アクセス時にノートが保持されることを確認

#### シナリオ 1-4-6: セーフティフィルター制約確認
- セーフティフィルターON状態を確認
- セーフティフィルターOFFキャラクター詳細ページにアクセス
- 「チャット開始」ボタンをクリックしようとする
- エラーメッセージ表示確認（チャット開始不可）
- セーフティフィルターをOFFに変更
- 再度チャット開始を試みる
- チャット開始可能であることを確認

#### シナリオ 1-4-7: チャットランキング反映確認
- キャラクターとチャット開始
- 複数のメッセージを交換（最低5個以上）
- ランキングページにアクセス
- 該当キャラクターがランキングに反映されていることを確認
- チャット数が正確に集計されていることを確認
- リアルタイム/日次/週次/月次ランキングすべて確認

---

### 1.5 ポイント・決済機能

#### シナリオ 1-5-1: ポイント残高確認
- ポイントページにアクセス
- 無料ポイント、有料ポイント表示確認
- 総ポイント表示確認

#### シナリオ 1-5-2: ポイントチャージ
- ポイントページにアクセス
- チャージボタンをクリック
- 金額を選択または入力
- 決済を進める（Stripe連携）
- 決済完了確認
- ポイントページへリダイレクト確認
- チャージされたポイントが残高に反映されていることを確認

#### シナリオ 1-5-3: 出席チェック
- ポイントページにアクセス
- 出席チェックボタンをクリック
- ポイント付与確認（30ポイント）
- 出席チェック完了メッセージ確認
- 翌日出席チェックを試みる
- 「既に出席チェック済み」メッセージ確認（または正常付与）

#### シナリオ 1-5-4: ポイント使用確認
- チャットメッセージを送信
- ポイント減算確認
- ポイントページで残高確認
- 使用履歴確認（可能な場合）

---

### 1.6 ソーシャル機能

#### シナリオ 1-6-1: 自分のプロフィール確認
- マイページまたはプロフィールページにアクセス
- プロフィール情報表示確認（ニックネーム、自己紹介など）
- 自分が作成したキャラクター一覧表示確認
- フォロワー数、フォロー中数表示確認
- 総チャットメッセージ数表示確認

#### シナリオ 1-6-2: 他ユーザーのプロフィール確認
- 他ユーザーのプロフィールページにアクセス
- プロフィール情報表示確認
- 該当ユーザーが作成したキャラクター一覧表示確認
- フォローボタン表示確認
- ブロックボタン表示確認（ある場合）

#### シナリオ 1-6-3: フォロー/アンフォロー
- 他ユーザーのプロフィールページにアクセス
- フォローボタンをクリック
- フォロー状態に変更確認
- フォロー中数増加確認
- 該当ユーザーのフォロワー数増加確認
- 再度フォローボタンをクリック（アンフォロー）
- アンフォロー確認
- フォロワー/フォロー中数減少確認

#### シナリオ 1-6-4: フォロワー/フォロー中一覧確認
- プロフィールページにアクセス
- フォロワー数またはフォロー中数をクリック
- フォロワー一覧表示確認
- フォロー中一覧表示確認
- 一覧からユーザーをクリックすると該当ユーザーのプロフィールへ移動確認

#### シナリオ 1-6-5: ユーザーブロック/アンブロック
- 他ユーザーのプロフィールページにアクセス
- ブロックボタンをクリック
- ブロック確認ダイアログ表示
- ブロック実行
- ブロック完了確認
- ブロックしたユーザー一覧で確認
- ブロックしたユーザーのキャラクターが検索結果から除外されることを確認
- アンブロック実行
- アンブロック後再度検索結果に表示されることを確認

#### シナリオ 1-6-6: ブロックしたユーザー一覧確認
- マイページまたは設定ページにアクセス
- ブロックしたユーザー一覧メニューを選択
- ブロックしたユーザー一覧表示確認
- アンブロック機能動作確認

#### シナリオ 1-6-7: いいね機能
- キャラクター詳細ページにアクセス
- いいねボタンをクリック
- いいね状態に変更確認
- いいね数増加確認
- 再度いいねボタンをクリック（いいね解除）
- いいね解除確認
- いいね数減少確認

#### シナリオ 1-6-8: コメント作成
- キャラクター詳細ページにアクセス
- コメント入力欄にコメントを記入
- コメント作成ボタンをクリック
- コメントがコメント一覧に追加されることを確認
- 作成者情報、作成時間表示確認

#### シナリオ 1-6-9: コメント削除
- 自分が作成したコメントがあるキャラクター詳細ページにアクセス
- コメント削除ボタンをクリック
- 削除確認ダイアログ表示
- 削除実行
- コメントが一覧から削除されることを確認

#### シナリオ 1-6-10: コメント通知確認
- 他ユーザーが自分のキャラクターにコメントを記入
- 通知ページにアクセス
- コメント通知表示確認
- 通知をクリックすると該当キャラクター詳細ページへ移動確認

---

### 1.7 通知機能

#### シナリオ 1-7-1: 通知一覧確認
- 通知ページにアクセス
- 通知一覧表示確認
- 通知種類別表示確認（フォロー、いいね、コメントなど）
- 通知時間順ソート確認

#### シナリオ 1-7-2: 通知既読処理
- 通知ページにアクセス
- 未読の通知を選択
- 既読処理を実行
- 通知が既読状態に変更されることを確認
- 未読数減少確認

#### シナリオ 1-7-3: 通知削除
- 通知ページにアクセス
- 通知削除ボタンをクリック
- 削除確認
- 通知が一覧から削除されることを確認

#### シナリオ 1-7-4: 未読通知数確認
- ヘッダーまたは通知アイコンを確認
- 未読通知数バッジ表示確認
- 通知ページにアクセス後既読処理
- 未読数減少確認

#### シナリオ 1-7-5: フォロー通知確認
- 他ユーザーが自分をフォロー
- 通知ページでフォロー通知確認
- 通知をクリックすると該当ユーザーのプロフィールへ移動確認

#### シナリオ 1-7-6: いいね通知確認
- 他ユーザーが自分のキャラクターにいいね
- 通知ページでいいね通知確認
- 通知をクリックすると該当キャラクター詳細ページへ移動確認

---

### 1.8 ランキング機能

#### シナリオ 1-8-1: リアルタイムランキング確認
- ランキングページにアクセス
- リアルタイムタブを選択
- リアルタイムランキング一覧表示確認
- チャット数順位確認
- 上位50件表示確認

#### シナリオ 1-8-2: 日次/週次/月次ランキング確認
- ランキングページにアクセス
- 日次/週次/月次タブを選択
- 該当期間のランキング表示確認
- チャット数集計が正確であることを確認

#### シナリオ 1-8-3: ランキングからキャラクターをクリック
- ランキングページにアクセス
- ランキング一覧からキャラクターを選択
- 該当キャラクター詳細ページへ移動確認

---

### 1.9 お問い合わせ・通報機能

#### シナリオ 1-9-1: お問い合わせ作成
- マイページ > お問い合わせにアクセス
- お問い合わせ種類を選択（システム問題、返金リクエスト、機能要望、バグ報告など）
- タイトルを入力
- 内容を入力
- お問い合わせ作成実行
- 作成完了メッセージ確認
- 自分のお問い合わせ一覧に追加されることを確認

#### シナリオ 1-9-2: キャラクター通報
- キャラクター詳細ページにアクセス
- 通報ボタンをクリック
- 通報種類を選択
- 通報理由を入力
- 通報内容を入力
- 通報実行
- 通報完了メッセージ確認

#### シナリオ 1-9-3: 自分のお問い合わせ/通報一覧確認
- マイページ > お問い合わせにアクセス
- 自分が作成したお問い合わせ/通報一覧表示確認
- 状態表示確認（待機中、レビュー中、解決済み、拒否）
- フィルタリング機能確認（種類別、状態別）
- 検索機能確認

#### シナリオ 1-9-4: お問い合わせ回答確認
- 管理者がお問い合わせに回答記入
- 通知ページで回答通知確認
- お問い合わせ詳細で管理者回答確認

---

### 1.10 ペルソナ機能

#### シナリオ 1-10-1: ペルソナ一覧確認
- ペルソナページにアクセス
- 自分のペルソナ一覧表示確認

#### シナリオ 1-10-2: ペルソナ作成
- ペルソナ作成ページにアクセス
- ニックネーム、年齢、性別、説明を入力
- 保存実行
- 作成完了確認
- ペルソナ一覧に追加されることを確認

#### シナリオ 1-10-3: ペルソナ編集
- ペルソナ一覧から編集するペルソナを選択
- 情報を修正
- 保存実行
- 変更内容反映確認

#### シナリオ 1-10-4: ペルソナ削除
- ペルソナ一覧から削除するペルソナを選択
- 削除実行
- 削除確認
- 一覧から削除されることを確認

#### シナリオ 1-10-5: デフォルトペルソナ設定
- ペルソナ一覧からデフォルトペルソナを設定
- チャット時に該当ペルソナ情報が使用されることを確認

---

### 1.11 お知らせ・ガイド・約款

#### シナリオ 1-11-1: お知らせ一覧確認
- お知らせページにアクセス
- お知らせ一覧表示確認
- 最新順ソート確認

#### シナリオ 1-11-2: お知らせ詳細確認
- お知らせ一覧からお知らせを選択
- お知らせ詳細内容表示確認
- タイトル、本文、作成日表示確認

#### シナリオ 1-11-3: ガイド確認
- ガイドページにアクセス
- ガイド一覧表示確認
- カテゴリー別ソート確認
- ガイド内容確認

#### シナリオ 1-11-4: 約款確認
- 約款ページにアクセス
- 約款一覧表示確認（利用規約、プライバシーポリシーなど）
- 約款詳細内容表示確認

---

### 1.12 その他機能

#### シナリオ 1-12-1: バナー確認
- ホーム画面にアクセス
- バナー表示確認
- バナーをクリックするとリンク移動確認

#### シナリオ 1-12-2: マイページ統計確認
- マイページにアクセス
- 統計情報表示確認（作成したキャラクター数、総チャット数など）

#### シナリオ 1-12-3: セーフティフィルター設定
- 設定ページにアクセス
- セーフティフィルターON/OFF設定
- 設定保存確認
- 設定がチャット制約に反映されることを確認

#### シナリオ 1-12-4: プロフィール編集
- プロフィール編集ページにアクセス
- ニックネーム、自己紹介などを修正
- 保存実行
- プロフィールページで変更内容確認

---

## 2. 管理者観点シナリオ

### 2.1 管理画面アクセス

#### シナリオ 2-1-1: 管理者ログイン
- 管理者アカウントでログイン
- 管理画面にアクセス
- 管理者ダッシュボード表示確認
- 権限確認（SUPER_ADMIN、MODERATOR、CHAR_MANAGERなど）

#### シナリオ 2-1-2: 権限別アクセス制御確認
- MODERATOR権限でログイン
- MODERATORがアクセス可能なメニューのみ表示されることを確認
- CHAR_MANAGER権限でログイン
- CHAR_MANAGERがアクセス可能なメニューのみ表示されることを確認
- SUPER_ADMIN権限でログイン
- すべての管理メニューにアクセス可能であることを確認

#### シナリオ 2-1-3: 一般ユーザーアクセスブロック確認
- 一般ユーザーアカウントでログイン
- 管理画面へのアクセスを試みる
- アクセスブロックまたは警告メッセージ確認
- リダイレクト確認

---

### 2.2 ユーザー管理

#### シナリオ 2-2-1: ユーザー一覧確認
- ユーザー管理ページにアクセス
- ユーザー一覧表示確認
- ユーザー情報表示確認（ID、名前、メール、登録日、権限など）

#### シナリオ 2-2-2: ユーザー検索
- ユーザー管理ページにアクセス
- 検索バーに検索語を入力（名前、ニックネーム、メールアドレス）
- 検索実行
- 検索結果表示確認
- 検索結果からユーザーを選択すると詳細情報表示確認

#### シナリオ 2-2-3: ユーザー権限変更
- ユーザー管理ページにアクセス
- ユーザー一覧から権限ドロップダウンを選択
- 権限を変更（USER → MODERATORなど）
- 変更自動保存確認
- 変更成功メッセージ確認
- 一覧再取得後変更内容反映確認

#### シナリオ 2-2-4: ユーザー情報編集
- ユーザー管理ページにアクセス
- ユーザー編集ボタンをクリック
- 編集モーダル表示確認
- 名前、ニックネーム、メールアドレス、電話番号、自己紹介を修正
- ポイント手動設定（無料ポイント、有料ポイント）
- 生年月日、未成年者フラグを修正
- 保存実行
- 変更内容反映確認

#### シナリオ 2-2-5: ユーザー停止
- ユーザー管理ページにアクセス
- 停止するユーザーを選択
- 停止ボタンをクリック
- 停止期間を選択（1日、3日、7日、1ヶ月、3ヶ月、100日、1年、永久停止）
- 停止理由を入力
- 停止実行
- 停止完了メッセージ確認
- ユーザー一覧で停止状態表示確認（停止中バッジ）
- 停止されたユーザーがログインを試みると停止ページ表示確認

#### シナリオ 2-2-6: ユーザー停止解除
- ユーザー管理ページにアクセス
- 停止中のユーザーを選択
- 停止解除ボタンをクリック
- 解除実行
- 停止解除完了メッセージ確認
- ユーザー一覧で停止状態削除確認
- 停止解除されたユーザーがログイン可能であることを確認

#### シナリオ 2-2-7: ユーザーアカウントロック解除
- ユーザー管理ページにアクセス
- アカウントがロックされているユーザー確認
- ロック解除ボタンをクリック
- 解除実行
- ロック解除完了確認
- ユーザーがログイン可能であることを確認

#### シナリオ 2-2-8: ユーザー削除
- ユーザー管理ページにアクセス
- 削除するユーザーを選択
- 削除ボタンをクリック
- 削除確認ダイアログ表示
- 削除実行
- 削除完了メッセージ確認
- ユーザー一覧から削除確認
- 削除されたユーザーが作成したキャラクターが匿名化されたことを確認

#### シナリオ 2-2-9: ユーザーメール認証
- ユーザー管理ページにアクセス
- ユーザーメール認証ボタンをクリック
- 認証実行
- 認証完了確認

---

### 2.3 キャラクター管理

#### シナリオ 2-3-1: キャラクター一覧確認
- キャラクター管理ページにアクセス
- 全キャラクター一覧表示確認
- キャラクター情報表示確認（名前、説明、作成者、公開状態など）

#### シナリオ 2-3-2: キャラクター検索
- キャラクター管理ページにアクセス
- 検索バーにキャラクター名を入力
- 検索実行
- 検索結果表示確認
- ページネーション動作確認

#### シナリオ 2-3-3: キャラクター公開/非公開切替
- キャラクター管理ページにアクセス
- キャラクターケバブメニューを開く
- 公開/非公開切替を選択
- 確認ダイアログ表示
- 切替実行
- 変更完了確認
- 一覧で公開状態変更確認
- 一般ユーザー画面で反映確認（公開→非公開で検索結果から除外）

#### シナリオ 2-3-4: キャラクター編集
- キャラクター管理ページにアクセス
- 編集するキャラクターを選択
- 編集ボタンをクリック
- 編集ページへ移動
- キャラクター情報を修正
- 保存実行
- 変更内容反映確認

#### シナリオ 2-3-5: キャラクター削除
- キャラクター管理ページにアクセス
- 削除するキャラクターを選択
- 削除ボタンをクリック
- 削除確認ダイアログ表示
- 削除実行
- 削除完了メッセージ確認
- キャラクター一覧から削除確認
- 一般ユーザー画面からも削除確認

#### シナリオ 2-3-6: キャラクターExport
- キャラクター管理ページにアクセス
- Exportするキャラクターを選択
- Exportボタンをクリック
- JSONファイルダウンロード確認

#### シナリオ 2-3-7: ナモアイフレンズ登録/解除
- キャラクター管理ページにアクセス
- キャラクターケバブメニューを開く
- ナモアイフレンズ登録/解除を選択
- 登録/解除実行
- 変更完了確認
- ホーム画面でナモアイフレンズセクションに反映確認

---

### 2.4 お知らせ管理

#### シナリオ 2-4-1: お知らせ一覧確認
- お知らせ管理ページにアクセス
- お知らせ一覧表示確認

#### シナリオ 2-4-2: お知らせ作成
- お知らせ管理ページにアクセス
- お知らせ作成ボタンをクリック
- タイトルを入力
- 本文を入力
- 公開設定を選択
- 保存実行
- 作成完了確認
- お知らせ一覧に追加確認
- 一般ユーザー画面でお知らせ表示確認

#### シナリオ 2-4-3: お知らせ編集
- お知らせ管理ページにアクセス
- 編集するお知らせを選択
- 編集実行
- 内容を修正
- 保存実行
- 変更内容反映確認

#### シナリオ 2-4-4: お知らせ削除
- お知らせ管理ページにアクセス
- 削除するお知らせを選択
- 削除実行
- 削除確認
- 一覧から削除確認

---

### 2.5 ガイド管理

#### シナリオ 2-5-1: ガイド一覧確認
- ガイド管理ページにアクセス
- ガイド一覧表示確認
- カテゴリー別ソート確認

#### シナリオ 2-5-2: ガイド作成
- ガイド管理ページにアクセス
- ガイド作成フォームに入力
- 大メニュー、小メニューを入力
- タイトル、内容を入力（HTML可）
- 表示順序を入力
- 保存実行
- 作成完了確認
- ガイド一覧に追加確認
- 一般ユーザー画面でガイド表示確認

#### シナリオ 2-5-3: ガイド編集
- ガイド管理ページにアクセス
- 編集するガイドを選択
- 情報を修正
- 保存実行
- 変更内容反映確認

#### シナリオ 2-5-4: ガイド削除
- ガイド管理ページにアクセス
- 削除するガイドを選択
- 削除実行
- 削除確認
- 一覧から削除確認

---

### 2.6 バナー管理

#### シナリオ 2-6-1: バナー一覧確認
- バナー管理ページにアクセス
- バナー一覧表示確認

#### シナリオ 2-6-2: バナー作成
- バナー管理ページにアクセス
- バナー作成ボタンをクリック
- 画像をアップロード
- リンクを設定
- 表示順序を設定
- 保存実行
- 作成完了確認
- ホーム画面でバナー表示確認

#### シナリオ 2-6-3: バナー編集
- バナー管理ページにアクセス
- 編集するバナーを選択
- 情報を修正
- 保存実行
- 変更内容反映確認

#### シナリオ 2-6-4: バナー削除
- バナー管理ページにアクセス
- 削除するバナーを選択
- 削除実行
- 削除確認
- 一覧から削除確認

---

### 2.7 約款管理

#### シナリオ 2-7-1: 約款一覧確認
- 約款管理ページにアクセス
- 約款一覧表示確認

#### シナリオ 2-7-2: 約款編集
- 約款管理ページにアクセス
- 編集する約款を選択
- 内容を修正（マークダウン形式）
- 保存実行
- 変更内容反映確認
- 一般ユーザー画面で変更された約款表示確認

---

### 2.8 通報管理

#### シナリオ 2-8-1: 通報一覧確認
- 通報管理ページにアクセス
- 通報一覧表示確認
- 通報情報表示確認（種類、通報者、通報対象、状態など）

#### シナリオ 2-8-2: 通報フィルタリング
- 通報管理ページにアクセス
- 種類別フィルタリング（キャラクター通報、お問い合わせなど）
- 状態別フィルタリング（待機中、レビュー中、解決済み、拒否）
- フィルタリング結果確認

#### シナリオ 2-8-3: 通報詳細確認
- 通報管理ページにアクセス
- 通報を選択
- 通報詳細情報表示確認
- 通報内容、通報対象キャラクター/ユーザー情報確認

#### シナリオ 2-8-4: 通報状態変更
- 通報管理ページにアクセス
- 通報を選択
- 状態を変更（待機中 → レビュー中 → 解決済み/拒否）
- 管理者メモを入力
- 保存実行
- 状態変更確認
- 通報者に通知送信確認

#### シナリオ 2-8-5: 通報処理（キャラクター措置）
- キャラクター通報を処理
- 該当キャラクター管理ページへ移動
- キャラクター措置を実行（非公開切替、削除など）
- 通報状態を解決済みに変更

---

### 2.9 統計確認

#### シナリオ 2-9-1: 管理者ダッシュボード統計確認
- 管理者ダッシュボードにアクセス
- 統計カード表示確認
- ユーザー数表示確認
- キャラクター数表示確認
- チャット数表示確認
- ポイント消費量表示確認

---

### 2.10 IP管理

#### シナリオ 2-10-1: IPブロック
- IPブロック管理ページにアクセス
- IPアドレスを入力
- ブロック実行
- ブロック完了確認
- ブロック一覧に追加確認

#### シナリオ 2-10-2: IPブロック解除
- IPブロック管理ページにアクセス
- ブロックされたIPを選択
- ブロック解除を実行
- 解除完了確認

#### シナリオ 2-10-3: IPモニタリング
- IPモニタリングページにアクセス
- IPアクセスログ確認
- 異常アクセスパターン確認

---

## 3. その他細かい機能シナリオ

### 3.1 お問い合わせ機能

#### シナリオ 3-1-1: お問い合わせ作成（システム問題）
- マイページ > お問い合わせにアクセス
- お問い合わせ種類：「システム問題」を選択
- タイトル、内容を入力
- お問い合わせ作成実行
- 作成完了確認

#### シナリオ 3-1-2: お問い合わせ作成（返金リクエスト）
- お問い合わせ種類：「返金リクエスト」を選択
- タイトル、内容を入力
- お問い合わせ作成実行
- 作成完了確認

#### シナリオ 3-1-3: お問い合わせ作成（機能要望）
- お問い合わせ種類：「機能要望」を選択
- タイトル、内容を入力
- お問い合わせ作成実行
- 作成完了確認

#### シナリオ 3-1-4: お問い合わせ作成（バグ報告）
- お問い合わせ種類：「バグ報告」を選択
- タイトル、内容を入力
- お問い合わせ作成実行
- 作成完了確認

#### シナリオ 3-1-5: お問い合わせ検索
- お問い合わせ一覧で検索語を入力
- 検索実行
- 検索結果表示確認

---

### 3.2 いいね機能

#### シナリオ 3-2-1: いいねを押す
- キャラクター詳細ページにアクセス
- いいねボタンをクリック
- いいね状態に変更確認
- いいね数増加確認

#### シナリオ 3-2-2: いいね解除
- いいねが押されたキャラクター詳細ページにアクセス
- いいねボタンをクリック
- いいね解除確認
- いいね数減少確認

#### シナリオ 3-2-3: いいね通知確認
- 他ユーザーが自分のキャラクターにいいね
- 通知ページでいいね通知確認
- 通知をクリックすると該当キャラクターへ移動確認

#### シナリオ 3-2-4: いいね数集計確認
- キャラクター詳細ページでいいね数確認
- 複数のユーザーがいいねを押す
- いいね数が正確に集計されることを確認

---

### 3.3 ランキング反映機能

#### シナリオ 3-3-1: チャット後ランキング反映確認
- キャラクターとチャット開始
- メッセージ10個以上交換
- ランキングページにアクセス
- 該当キャラクターがランキングに含まれることを確認
- チャット数が正確に集計されることを確認

#### シナリオ 3-3-2: リアルタイムランキング更新確認
- ランキングページにアクセス
- リアルタイムタブを選択
- 他ユーザーがチャットを進める
- ランキングが更新されることを確認（リロードが必要な場合あり）

#### シナリオ 3-3-3: 日次/週次/月次ランキング集計確認
- 特定のキャラクターと日次チャットを進める
- 日次ランキングで該当キャラクター確認
- 週次ランキングで確認
- 月次ランキングで確認
- 各期間別集計が正確であることを確認

#### シナリオ 3-3-4: ランキング上位50件制限確認
- 多数のキャラクターとチャットを進める
- ランキングページにアクセス
- 上位50件のみ表示されることを確認

---

### 3.4 ブロック機能

#### シナリオ 3-4-1: ユーザーブロック時キャラクター検索除外
- 他ユーザーのプロフィールにアクセス
- ユーザーブロックを実行
- キャラクター検索を実行
- ブロックしたユーザーのキャラクターが検索結果に表示されないことを確認

#### シナリオ 3-4-2: ブロック時キャラクター一覧除外
- ユーザーブロックを実行
- キャラクター一覧ページにアクセス
- ブロックしたユーザーのキャラクターが一覧に表示されないことを確認

#### シナリオ 3-4-3: ブロック時ランキング除外
- ユーザーブロックを実行
- ランキングページにアクセス
- ブロックしたユーザーのキャラクターがランキングに表示されないことを確認

#### シナリオ 3-4-4: ブロック解除後再表示
- ブロックしたユーザーをアンブロック
- キャラクター検索を実行
- アンブロックしたユーザーのキャラクターが検索結果に再表示されることを確認

---

### 3.5 セーフティフィルター機能

#### シナリオ 3-5-1: セーフティフィルターON時OFFキャラクターブロック
- セーフティフィルターON状態
- セーフティフィルターOFFキャラクター詳細ページにアクセス
- 「チャット開始」ボタンをクリックしようとする
- エラーメッセージ表示確認
- チャット開始不可確認

#### シナリオ 3-5-2: セーフティフィルターOFF時全キャラクターチャット可能
- セーフティフィルターをOFFに変更
- セーフティフィルターOFFキャラクターとチャット開始
- チャット開始可能確認

#### シナリオ 3-5-3: セーフティフィルター設定保存
- 設定ページでセーフティフィルターON/OFF変更
- 設定を保存
- ページリロード後設定が保持されることを確認
- 他のデバイスでログイン時に設定同期確認

---

### 3.6 ペルソナ機能

#### シナリオ 3-6-1: ペルソナ設定後チャットで使用
- ペルソナを作成（年齢、性別、説明を含む）
- デフォルトペルソナとして設定
- チャット開始
- ペルソナ情報がAIに伝達されることを確認（チャット内容で確認）

#### シナリオ 3-6-2: ペルソナ変更
- デフォルトペルソナを変更
- 新しいチャット開始
- 変更されたペルソナ情報が使用されることを確認

---

### 3.7 画像生成機能

#### シナリオ 3-7-1: キャラクター画像生成
- キャラクター作成/編集ページにアクセス
- 画像生成ボタンをクリック
- 画像生成リクエスト
- 生成された画像表示確認
- 画像保存確認

---

### 3.8 クローン機能

#### シナリオ 3-8-1: キャラクタークローン
- 他ユーザーが作成したキャラクター詳細ページにアクセス
- クローンボタンをクリック
- クローン確認ダイアログ表示
- クローン実行
- 自分のキャラクター一覧に追加確認
- クローンされたキャラクターが編集可能であることを確認
- 元のキャラクターと独立していることを確認

---

### 3.9 Export/Import機能

#### シナリオ 3-9-1: キャラクターExport
- 自分のキャラクター管理ページにアクセス
- Exportボタンをクリック
- JSONファイルダウンロード確認
- ダウンロードしたファイル内容確認

#### シナリオ 3-9-2: キャラクターImport
- キャラクター作成ページにアクセス
- Importボタンをクリック
- ExportしたJSONファイルを選択
- データ読み込み確認
- すべての情報が正確に読み込まれることを確認
- 編集後保存可能であることを確認

---

### 3.10 コメント機能

#### シナリオ 3-10-1: コメント作成
- キャラクター詳細ページにアクセス
- コメント入力欄にコメントを記入
- コメント作成ボタンをクリック
- コメントが一覧に追加されることを確認

#### シナリオ 3-10-2: コメント削除
- 自分が作成したコメントを削除
- 削除確認
- コメントが一覧から削除されることを確認

#### シナリオ 3-10-3: コメント通知
- 他ユーザーが自分のキャラクターにコメントを記入
- 通知受信確認
- 通知をクリックすると該当キャラクターへ移動確認

---

### 3.11 通知種類別確認

#### シナリオ 3-11-1: フォロー通知
- 他ユーザーが自分をフォロー
- フォロー通知受信確認
- 通知内容確認
- 通知をクリックすると該当ユーザーのプロフィールへ移動確認

#### シナリオ 3-11-2: いいね通知
- 他ユーザーが自分のキャラクターにいいね
- いいね通知受信確認
- 通知をクリックすると該当キャラクターへ移動確認

#### シナリオ 3-11-3: コメント通知
- 他ユーザーが自分のキャラクターにコメントを記入
- コメント通知受信確認
- 通知をクリックすると該当キャラクターへ移動確認

#### シナリオ 3-11-4: お問い合わせ回答通知
- 管理者が自分のお問い合わせに回答
- お問い合わせ回答通知受信確認
- 通知をクリックするとお問い合わせ詳細へ移動確認

#### シナリオ 3-11-5: フォロワーキャラクター作成通知
- フォローしたユーザーが新しいキャラクターを作成
- 通知受信確認（ある場合）
- 通知をクリックすると該当キャラクターへ移動確認

---

### 3.12 チャット関連詳細機能

#### シナリオ 3-12-1: チャットメモリー機能
- チャット中メモリー機能を使用
- メモリー保存確認
- 次のメッセージでメモリー適用確認

#### シナリオ 3-12-2: チャットノート機能
- チャット画面でノートを記入
- ノート保存確認
- 次回アクセス時にノートが保持されることを確認

#### シナリオ 3-12-3: チャットキャンセル
- チャット中キャンセルボタンをクリック
- キャンセル確認
- ポイント返金確認（必要に応じて）

---

### 3.13 プロフィール関連詳細機能

#### シナリオ 3-13-1: プロフィール統計確認
- プロフィールページにアクセス
- 作成したキャラクター数確認
- 総チャットメッセージ数確認
- フォロワー/フォロー中数確認

#### シナリオ 3-13-2: プロフィール編集
- プロフィール編集ページにアクセス
- ニックネーム、自己紹介を修正
- 保存確認
- プロフィールページで変更確認

---

### 3.14 検索関連詳細機能

#### シナリオ 3-14-1: ハッシュタグ検索
- 検索バーにハッシュタグを入力（例：#テスト）
- 検索実行
- 該当ハッシュタグが含まれるキャラクターのみ表示されることを確認

#### シナリオ 3-14-2: 名前/説明検索
- 検索バーにキャラクター名または説明キーワードを入力
- 検索実行
- 関連キャラクター表示確認

#### シナリオ 3-14-3: 検索結果ソート
- 検索結果確認
- ソートオプション確認（人気順、新着順など）
- ソート変更時結果再ソート確認

---

### 3.15 管理者機能詳細

#### シナリオ 3-15-1: ユーザーポイント手動設定
- ユーザー編集モーダルを開く
- 無料ポイントを手動入力
- 有料ポイントを手動入力
- 保存実行
- ユーザーポイントページで設定されたポイント確認

#### シナリオ 3-15-2: ナモアイフレンズ登録
- キャラクター管理ページにアクセス
- キャラクターをナモアイフレンズとして登録
- ホーム画面でナモアイフレンズセクションに表示確認

#### シナリオ 3-15-3: お知らせ公開/非公開
- お知らせ作成時公開設定
- 公開に設定したお知らせが一般ユーザー画面に表示されることを確認
- 非公開に設定したお知らせが一般ユーザー画面に表示されないことを確認

---

### 3.16 エラーハンドリング確認

#### シナリオ 3-16-1: 権限エラー
- 一般ユーザーが管理画面へのアクセスを試みる
- 権限エラーメッセージ表示確認

#### シナリオ 3-16-2: セーフティフィルターエラー
- セーフティフィルターON状態でOFFキャラクターチャットを試みる
- 適切なエラーメッセージ表示確認

#### シナリオ 3-16-3: ポイント不足エラー
- ポイントが不足している状態でチャットを試みる
- ポイント不足エラーメッセージ表示確認

---

## 📝 チェックリスト

### ユーザー観点チェックリスト
- [ ] 認証（登録、ログイン、ログアウト、パスワード変更、2FA）
- [ ] キャラクター探索（検索、一覧、詳細、ブロック作成者除外）
- [ ] キャラクター作成（AI生成、手動入力、画像アップロード）
- [ ] キャラクター管理（編集、削除、クローン、Export/Import）
- [ ] チャット（開始、メッセージ送受信、履歴、キャンセル、ノート、メモリー、ランキング反映）
- [ ] ポイント（確認、チャージ、出席チェック）
- [ ] ソーシャル（プロフィール、フォロー、ブロック、いいね、コメント）
- [ ] 通知（一覧、既読処理、削除、種類別確認）
- [ ] ランキング（リアルタイム/日次/週次/月次）
- [ ] お問い合わせ/通報（作成、一覧、状態確認）
- [ ] ペルソナ（一覧、作成、編集、削除、チャットで使用）
- [ ] お知らせ/ガイド/約款（一覧、詳細）

### 管理者観点チェックリスト
- [ ] 管理画面アクセス（権限確認、アクセス制御）
- [ ] ユーザー管理（一覧、検索、権限変更、編集、停止、停止解除、削除、ポイント設定、メール認証）
- [ ] キャラクター管理（一覧、検索、公開/非公開切替、編集、削除、Export、ナモアイフレンズ登録）
- [ ] お知らせ管理（一覧、作成、編集、削除、公開/非公開）
- [ ] ガイド管理（一覧、作成、編集、削除）
- [ ] バナー管理（一覧、作成、編集、削除）
- [ ] 約款管理（一覧、編集）
- [ ] 通報管理（一覧、フィルタリング、詳細、状態変更、処理）
- [ ] 統計確認（ダッシュボード統計）
- [ ] IP管理（ブロック、解除、モニタリング）

### その他機能チェックリスト
- [ ] お問い合わせ（すべての種類）
- [ ] いいね（押す、解除、通知、集計）
- [ ] ランキング反映（チャット後反映、リアルタイム更新、期間別集計）
- [ ] ブロック（検索/一覧/ランキング除外、解除後再表示）
- [ ] セーフティフィルター（ON/OFF、チャット制約、設定保存）
- [ ] ペルソナ（チャットで使用、変更）
- [ ] 画像生成
- [ ] クローン
- [ ] Export/Import
- [ ] コメント（作成、削除、通知）
- [ ] 通知（種類別確認）
- [ ] チャット詳細機能（メモリー、ノート、キャンセル）
- [ ] プロフィール（統計、編集）
- [ ] 検索（ハッシュタグ、名前/説明、ソート）
- [ ] 管理者詳細機能（ポイント手動設定、ナモアイフレンズ、公開/非公開）
- [ ] エラーハンドリング（権限、セーフティフィルター、ポイント不足）

---

**作成者**: 開発チーム  
**最終更新**: 2025年12月22日


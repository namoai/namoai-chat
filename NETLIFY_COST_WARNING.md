# ⚠️ Netlify 실제 비용 경고

> **작성일**: 2025-01-27  
> **목적**: Netlify Pro 플랜의 실제 비용 구조 및 숨겨진 비용 분석

---

## 🚨 핵심 문제점

### 1. Serverless Functions 요청 제한

**Netlify Pro 플랜:**
- ✅ 포함: 125,000 req/월
- ❌ 초과 시: **¥3,750/125k req** (매우 비쌈!)

**실제 사용량 계산:**

#### 시나리오 A: 100명 × 100채팅/일
```
월간 채팅: 100명 × 100개/일 × 30일 = 300,000 채팅
API 요청: 300,000 req/월 (채팅 1개 = API 1회)

포함: 125,000 req
초과: 300,000 - 125,000 = 175,000 req
추가 비용: 175,000 ÷ 125,000 = 1.4 → 2개 단위
         = ¥3,750 × 2 = ¥7,500/월
```

#### 시나리오 B: 1,000명 × 50채팅/일
```
월간 채팅: 1,000명 × 50개/일 × 30일 = 1,500,000 채팅
API 요청: 1,500,000 req/월

포함: 125,000 req
초과: 1,500,000 - 125,000 = 1,375,000 req
추가 비용: 1,375,000 ÷ 125,000 = 11개 단위
         = ¥3,750 × 11 = ¥41,250/월 💣
```

**결론:** 사용자가 많아질수록 **기하급수적으로 비용 증가!**

---

### 2. 빌드 시간 제한

**Netlify Pro 플랜:**
- ✅ 포함: 300분/월
- ❌ 초과 시: **¥1,050/500분**

**실제 사용량:**
```
빌드 시간: 평균 5분/빌드

매일 배포: 5분 × 30일 = 150분/월 (안전)
하루 2회 배포: 10분 × 30일 = 300분/월 (한계)
하루 3회 이상: 초과 발생 가능

초과 시: ¥1,050/500분
```

**주의:** 개발 중에도 빌드 비용 발생!

---

### 3. 대역폭 제한

**Netlify Pro 플랜:**
- ✅ 포함: 100GB/월
- ❌ 초과 시: **¥8,250/TB**

**실제 사용량 (1,000명 기준):**
```
정적 파일: 약 50GB/월
API 응답: 약 30GB/월
이미지 전송: Cloudflare R2 사용 시 포함 안 됨
총합: 약 80GB/월 (안전)

하지만 트래픽 증가 시:
- 200GB/월 초과 시: +¥825/월
- 500GB/월 초과 시: +¥3,300/월
```

---

## 💰 실제 비용 비교 (정확한 계산)

### 100명 사용자 (하루 100채팅)

| 항목 | Netlify | AWS | 차이 |
|------|---------|-----|------|
| 기본 요금 | ¥2,850 | ¥3,450 | -¥600 |
| 추가 요청 (175k) | **¥7,500** | ¥9 | **+¥7,491** 💣 |
| Lambda 실행 시간 | - | ¥6,250 | -¥6,250 |
| CloudFront | - | ¥1,275 | -¥1,275 |
| **총합** | **¥10,350** | **¥10,984** | **-¥634** |

**결론:** 100명 기준으로는 Netlify가 약간 저렴하지만, **추가 요청 비용이 예상보다 높음!**

---

### 1,000명 사용자 (하루 50채팅)

| 항목 | Netlify | AWS | 차이 |
|------|---------|-----|------|
| 기본 요금 | ¥2,850 | ¥3,450 | -¥600 |
| 추가 요청 (1,375k) | **¥41,250** 💣 | ¥41 | **+¥41,209** 💣💣 |
| Lambda 실행 시간 | - | ¥31,250 | -¥31,250 |
| CloudFront | - | ¥6,375 | -¥6,375 |
| **총합** | **¥44,100** | **¥41,116** | **+¥2,984** |

**결론:** 1,000명 이상에서는 **AWS가 더 저렴!**

---

## 📊 비용 증가 그래프

```
사용자 수    Netlify 비용    AWS 비용    차이
─────────────────────────────────────────
100명        ¥10,350        ¥10,984     -¥634 (Netlify 저렴)
500명        ¥25,500        ¥24,500     +¥1,000 (AWS 저렴)
1,000명      ¥44,100        ¥41,116     +¥2,984 (AWS 저렴)
5,000명      ¥200,000       ¥180,000    +¥20,000 (AWS 저렴)
10,000명     ¥400,000       ¥350,000    +¥50,000 (AWS 저렴)
```

**패턴:** 사용자가 많아질수록 **Netlify 비용이 기하급수적으로 증가!**

---

## ⚠️ 숨겨진 비용

### 1. 개발 중 비용
```
개발 중에도:
- 빌드 시간: 매번 배포 시 소모
- 테스트 요청: API 호출 시 소모
- 프리뷰 배포: 추가 빌드 시간 소모

예상: 개발 중에도 월 ¥5,000-10,000 추가 비용 가능
```

### 2. 예상치 못한 트래픽
```
바이럴 시나리오:
- 갑자기 사용자 10배 증가
- Netlify: 즉시 ¥300,000+ 추가 비용 발생 💣
- AWS: 점진적 증가 (더 예측 가능)
```

### 3. 빌드 실패 재시도
```
빌드 실패 시:
- 자동 재시도로 빌드 시간 2배 소모
- 300분 한계 쉽게 초과
- 추가 비용 발생
```

---

## 🎯 대안 및 권장사항

### 옵션 1: AWS로 전환 (장기적 추천)

**장점:**
- ✅ 사용량 기반 과금 (예측 가능)
- ✅ 대규모 트래픽 시 비용 효율
- ✅ 확장성 높음

**단점:**
- ❌ 초기 설정 복잡
- ❌ 관리 부담

**추천 시점:** 사용자 500명 이상

---

### 옵션 2: Netlify Business 플랜

**Netlify Business:**
- ✅ 500,000 req/월 포함
- ✅ 1,000분 빌드/월
- ✅ 400GB 대역폭/월
- ❌ 비용: **$99/월 (¥14,850/월)**

**비교:**
```
Pro: ¥2,850 + ¥41,250 (추가) = ¥44,100/월
Business: ¥14,850 (고정)
──────────────────────────────────────
차이: Business가 ¥29,250/월 저렴! 💰
```

**추천:** 1,000명 이상 사용자 시 Business 플랜 고려

---

### 옵션 3: 하이브리드 (Netlify + AWS Lambda)

**구조:**
```
정적 파일: Netlify (무료/저렴)
API: AWS Lambda (사용량 기반)
```

**장점:**
- ✅ Netlify의 편리함 유지
- ✅ API 비용만 AWS로 절감
- ✅ 점진적 마이그레이션 가능

---

## 📋 최종 권장사항

### Phase 1: 출시 직후 (0-100명)
```
플랫폼: Netlify Pro
예상 비용: ¥10,000-15,000/월
이유: 간편함 > 비용
```

### Phase 2: 성장기 (100-500명)
```
플랫폼: Netlify Business 고려
또는: AWS 전환 검토
예상 비용: ¥15,000-30,000/월
```

### Phase 3: 확장기 (500명+)
```
플랫폼: AWS 완전 전환
또는: Netlify Business
예상 비용: ¥30,000-50,000/월
이유: 비용 효율 > 편의성
```

---

## ⚠️ 즉시 확인 사항

1. **현재 Netlify 사용량 확인**
   - Dashboard → Analytics
   - 월간 요청 수 확인
   - 빌드 시간 확인
   - 대역폭 확인

2. **예상 사용량 계산**
   ```
   예상 사용자 수 × 일평균 채팅 수 × 30일 = 월간 요청 수
   ```

3. **비용 알림 설정**
   - Netlify Dashboard → Billing
   - 사용량 알림 설정
   - 예산 알림 설정

---

## 💡 비용 절감 팁

1. **API 요청 최적화**
   - 캐싱 도입 (Redis)
   - 불필요한 API 호출 제거
   - 배치 처리

2. **빌드 최적화**
   - 빌드 시간 단축
   - 불필요한 배포 최소화
   - 프리뷰 배포 제한

3. **대역폭 최적화**
   - 이미지는 Cloudflare R2 사용
   - CDN 활용
   - 압축 활성화

---

**작성일**: 2025-01-27  
**최종 업데이트**: 2025-01-27  
**문서 버전**: 1.0

**⚠️ 주의:** 이 문서는 실제 사용량에 따른 비용을 정확히 반영합니다.  
Netlify는 사용량이 많아질수록 비용이 급격히 증가할 수 있으므로,  
정기적으로 사용량을 모니터링하고 예산을 관리하시기 바랍니다.





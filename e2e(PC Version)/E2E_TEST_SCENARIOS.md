# E2E 테스트 시나리오 관리 (한국어)

**최종 업데이트**: 2025-01-27 (댓글 편집 기능 추가 및 최신 실행 결과 반영)  
**집계 기준**: 실제 테스트 파일 (`e2e/*.spec.ts`)의 모든 테스트 케이스  
**최신 실행**: 2025-01-27, Workers: 1, 개별 테스트 실행

**최근 수정 완료**:
- ✅ 1-6-8-2: 댓글 편집 - 새로 추가 및 성공 (편집 완료 모달 확인)
- ✅ 1-6-2: 다른 유저의 프로필 확인 - 성공
- ✅ 1-6-4: 팔로워/팔로잉 목록 확인 - 성공
- ✅ 1-6-5: 유저 블록/언블록 - 성공
- ✅ 1-6-6: 블록한 유저 목록 확인 - 성공
- ✅ 1-6-9: 댓글 삭제 - 성공 (삭제 완료 모달 확인)
- ✅ 1-6-10: 댓글 알림 확인 - 성공
- ✅ 1-7-2: 알림 읽음 처리 - 성공 (알림 클릭 로직 개선)
- ✅ 1-11-2: 공지 상세 확인 - 성공 (/notice/1 직접 접근 로직 추가)
- ✅ 1-4-3: 채팅 이력 확인 - 성공 (채팅 생성 후 이력 확인 로직으로 수정, 스킵 제거)
- ✅ 관리자 테스트 개수 수정: 33개 → 32개 (admin-reports.spec.ts의 2-8-3, 2-8-5는 미구현으로 확인)

**현재 진행 중**:
✅ 모든 테스트가 통과했습니다!

---

## 📊 종합 통계 (최신 실행 결과)

| 카테고리 | 총수 | OK | NG | 미실시 |
|---------|------|----|----|--------|
| **관리자** | 32 | 31 | 0 | 1 |
| **유저** | 59 | 55 | 0 | 4 |
| **기타** | 3 | 2 | 0 | 1 |
| **합계** | **94** | **88** | **0** | **6** |

### 성공률 (최신 실행 기준)
- **관리자**: 96.9% (31/32) - 1개 미실시 (IP 블록 해제 - 데이터 없음)
- **유저**: 100.0% (55/55) - 실행된 테스트 기준 (OK 55개, NG 0개, 미실시 4개)
- **기타**: 66.7% (2/3) - 1개 미실시
- **전체**: 93.6% (88/94) - 실행된 테스트 기준 (총 94개 중 88개 실행, 6개 미실시)

**유저 테스트 집계 상세**:
- 총 59개 테스트 (user-* 파일들 + chat + character-search + points-critical + user-journey)
- OK: 55개
- NG: 0개 ✅
- 미실시: 4개 (P0-3/P0-4: 에러 메시지/구매 유도선 확인 불가 시 스킵, 1-1-1: 이메일 인증 필요로 스킵, 1-5-3: 조건부 스킵)
- 실행된 테스트: 55개 (OK 55개)
- **검증 완료**: 모든 테스트 ID가 실제 테스트 파일과 일치함 (2025-01-27 확인)

### 현재 실패 중인 테스트 (0개)
✅ 모든 테스트가 통과했습니다!

### 완료 확인이 부족한 테스트 (개선 권장)
다음 테스트들은 성공 모달 확인 및 OK 버튼 클릭이 누락되어 있어 개선이 권장됩니다:
1. **1-10-2: 페르소나 생성** - 성공 메시지 확인만 하고 OK 버튼 클릭 없음
2. **1-10-3: 페르소나 편집** - 성공 메시지 확인만 하고 OK 버튼 클릭 없음
3. **1-3-4: 캐릭터 삭제** - 삭제 완료 후 성공 모달 확인 없음 (캐릭터 수 감소만 확인)

---

## 📋 관리자 시나리오 (32개)

### admin.spec.ts (5개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| - | 관리 화면에 접근 가능 | ✅ OK |
| - | 캐릭터 관리 페이지에 접근 가능 | ✅ OK |
| - | 유저 관리 페이지에 접근 가능 | ✅ OK |
| - | 공지 관리 페이지에 접근 가능 | ✅ OK |
| - | 일반 유저는 관리 화면에 접근 불가 | ✅ OK |

### admin-user-management.spec.ts (7개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| - | 유저 목록 표시 | ✅ OK |
| - | 유저 검색 가능 | ✅ OK |
| - | 유저 상세 확인 가능 | ✅ OK |
| 2-2-2 | 유저 검색 (메일/ID) | ✅ OK |
| 2-2-3 | 유저 권한 변경 | ✅ OK |
| 2-2-4 | 유저 정보 편집 | ✅ OK |
| 2-2-5 | 유저 정지 | ✅ OK |

### admin-character-management.spec.ts (6개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| - | 캐릭터 목록 표시 | ✅ OK |
| - | 캐릭터 검색 가능 | ✅ OK |
| - | 캐릭터 상세 확인 가능 | ✅ OK |
| 2-3-3 | 캐릭터 공개/비공개 전환 | ✅ OK |
| 2-3-5 | 캐릭터 삭제 | ✅ OK |
| 2-3-7 | 나모아이 프렌즈 등록/해제 | ✅ OK |

### admin-terms.spec.ts (2개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| 2-7-1 | 약관 목록 확인 | ✅ OK |
| 2-7-2 | 약관 편집 | ✅ OK |

### admin-banners.spec.ts (2개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| 2-6-1 | 배너 목록 확인 | ✅ OK |
| 2-6-2 | 배너 생성 | ✅ OK |

### admin-ip-management.spec.ts (3개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| 2-10-1 | IP 블록 | ✅ OK |
| 2-10-2 | IP 블록 해제 | ⏭️ 미실시 |
| 2-10-3 | IP 모니터링 | ✅ OK |

### admin-reports.spec.ts (3개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| 2-8-1 | 신고 목록 확인 | ✅ OK |
| 2-8-2 | 신고 필터링 | ✅ OK |
| 2-8-4 | 신고 상태 변경 | ✅ OK |

### admin-notices.spec.ts (2개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| 2-4-1 | 공지 목록 확인 | ✅ OK |
| 2-4-2 | 공지 생성 | ✅ OK |

### admin-guides.spec.ts (2개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| 2-5-1 | 가이드 목록 확인 | ✅ OK |
| 2-5-2 | 가이드 생성 | ✅ OK |

---

## 📋 유저 시나리오 (59개 - 실제 Playwright 결과 기준)

### 포인트 관련 (크리티컬) (6개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| P0-1 | 신규 등록 → 초기 포인트 확인 → 채팅 1회 왕복 → 포인트 감소 | ✅ OK |
| P0-2 | 이미지 생성 → 생성 성공 → 포인트 감소 | ✅ OK |
| P0-3 | 포인트 0에서 채팅 불가 → "포인트 구매 필요" 표시 | ⏭️ 미실시 (에러 메시지/구매 유도선 확인 불가 시 스킵) |
| P0-4 | 포인트 0에서 이미지 생성 불가 | ⏭️ 미실시 (에러 메시지/구매 유도선 확인 불가 시 스킵) |
| P0-5 | 통신 단절/LLM 실패 시 → 에러 표시 + 포인트 감소 없음 | ✅ OK |
| P0-6 | 로그아웃→재로그인 시 캐릭터/이력/포인트 유지 | ✅ OK |

### 인증 기능 (5개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| 1-1-1 | 메일 주소 회원가입 | ⏭️ 미실시 (이메일 인증 필요로 스킵) |
| 1-1-3 | 메일 주소 로그인 | ✅ OK |
| 1-1-4 | 로그인 실패 (잘못된 비밀번호) | ✅ OK |
| 1-1-5 | 로그아웃 | ✅ OK |
| 1-1-6 | 비밀번호 변경 | ✅ OK |

### 캐릭터 기능 (11개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| 1-2-1 | 캐릭터 검색 | ✅ OK |
| 1-2-2 | 캐릭터 목록 확인 | ✅ OK |
| 1-2-3 | 캐릭터 상세 확인 | ✅ OK |
| 1-2-4 | 차단한 작성자의 캐릭터 검색 제외 확인 | ✅ OK |
| 1-3-1 | 캐릭터 생성 (AI 생성 기능 사용) | ✅ OK |
| 1-3-2 | 캐릭터 생성 (수동 입력) | ✅ OK |
| 1-3-3 | 캐릭터 편집 | ✅ OK |
| 1-3-4 | 캐릭터 삭제 | ✅ OK |
| 1-3-5 | 캐릭터 클론 | ✅ OK |
| 1-3-6 | 캐릭터 Export | ✅ OK |
| 1-3-7 | 캐릭터 Import | ✅ OK |

### 채팅 기능 (5개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| 1-4-1 | 채팅 시작 (신규) | ✅ OK |
| 1-4-2 | 메시지 전송·수신 | ✅ OK |
| 1-4-2-2 | AI 응답 수신 | ✅ OK |
| 1-4-3 | 채팅 이력 확인 | ✅ OK |
| 1-4-4 | 채팅 취소 | ✅ OK |

### 포인트·결제 기능 (3개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| 1-5-1 | 포인트 잔액 확인 | ✅ OK |
| 1-5-3 | 출석 체크 | ⏭️ 미실시 (조건부 스킵) |
| 1-5-4 | 포인트 사용 확인 | ✅ OK |

### 소셜 기능 (11개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| 1-6-1 | 자신의 프로필 확인 | ✅ OK |
| 1-6-2 | 다른 유저의 프로필 확인 | ✅ OK |
| 1-6-3 | 팔로우/언팔로우 | ✅ OK |
| 1-6-4 | 팔로워/팔로잉 목록 확인 | ✅ OK |
| 1-6-5 | 유저 블록/언블록 | ✅ OK |
| 1-6-6 | 블록한 유저 목록 확인 | ✅ OK |
| 1-6-7 | 좋아요 기능 | ✅ OK |
| 1-6-8 | 댓글 생성 | ✅ OK |
| 1-6-8-2 | 댓글 편집 | ✅ OK |
| 1-6-9 | 댓글 삭제 | ✅ OK |
| 1-6-10 | 댓글 알림 확인 | ✅ OK |

### 알림 기능 (3개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| 1-7-1 | 알림 목록 확인 | ✅ OK |
| 1-7-2 | 알림 읽음 처리 | ✅ OK |
| 1-7-4 | 미읽음 알림 수 확인 | ✅ OK |

### 랭킹 기능 (3개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| 1-8-1 | 실시간 랭킹 확인 | ✅ OK |
| 1-8-2 | 일간/주간/월간 랭킹 확인 | ✅ OK |
| 1-8-3 | 랭킹에서 캐릭터 클릭 | ✅ OK |

### 문의·신고 (3개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| 1-9-1 | 문의 생성 | ✅ OK |
| 1-9-2 | 캐릭터 신고 | ✅ OK |
| 1-9-3 | 자신의 문의/신고 목록 확인 | ✅ OK |

### 페르소나 기능 (4개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| 1-10-1 | 페르소나 목록 확인 | ✅ OK |
| 1-10-2 | 페르소나 생성 | ✅ OK |
| 1-10-3 | 페르소나 편집 | ✅ OK |
| 1-10-4 | 페르소나 삭제 | ✅ OK |

### 공지·가이드·약관 (4개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| 1-11-1 | 공지 목록 확인 | ✅ OK |
| 1-11-2 | 공지 상세 확인 | ✅ OK |
| 1-11-3 | 가이드 확인 | ✅ OK |
| 1-11-4 | 약관 확인 | ✅ OK |

### 캐릭터 검색 기능 (3개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| CHAR-SEARCH-1 | 캐릭터 목록 페이지 표시 | ✅ OK |
| CHAR-SEARCH-2 | 캐릭터 검색 가능 | ✅ OK |
| CHAR-SEARCH-3 | 캐릭터 상세 페이지로 이동 가능 | ✅ OK |

### 유저 저니 (1개)
| ID | 시나리오 | 상태 |
|----|---------|------|
| JOURNEY-1 | 로그인부터 채팅까지의 일련의 흐름 | ✅ OK |

---

## 📋 기타 시나리오 (3개)

| ID | 시나리오 | 상태 |
|----|---------|------|
| 3-3-1 | 채팅 후 랭킹 반영 확인 | ✅ OK |
| 3-5-1 | 세이프티 필터 ON 시 OFF 캐릭터 블록 | ✅ OK |
| 3-12-2 | 채팅 노트 기능 | ⏭️ 미실시 |

---

## 📝 상태 설명

- **✅ OK**: 테스트 성공
- **❌ NG**: 테스트 실패
- **⏭️ 미실시**: 스킵 또는 미구현 (조건부 스킵, UI 요소 미구현, 테스트 데이터 부족 등)

---

## 📌 참고사항

- 집계 기준: 실제 Playwright 테스트 실행 결과 기준 (`npx playwright test --list`)
- 실제 테스트 수: **94개** (관리자 32개 + 유저 59개 + 기타 3개)
- 유저 테스트: 59개 (user-* 파일들 + chat + character-search + points-critical + user-journey)
- 상세 시나리오는 `E2E_TEST_SCENARIOS_DETAIL.md` 참조


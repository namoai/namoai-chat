# E2E 테스트 시나리오 상세 (한국어)

**최종 업데이트**: 2025-12-24  
**참고**: 시나리오 상태는 `E2E_TEST_SCENARIOS.md` 참조

---

## 🔴 P0: 크리티컬 테스트 (필수)

### P0-1: 신규 등록/로그인 → 초기 포인트 확인 → 채팅 1회 왕복 → 포인트 감소
**파일**: `e2e/points-critical.spec.ts`

**설명**: 사용자 등록 후, 초기 포인트를 확인하고, 채팅 1회 왕복으로 포인트가 정확히 감소하는지 확인

**상세 단계**:
1. 테스트용 사용자 생성 또는 기존 사용자로 로그인
2. 로그인 실행
3. 초기 포인트 확인 (UI 표시)
4. 초기 포인트 확인 (API 응답)
5. 캐릭터 목록에서 첫 번째 캐릭터 선택
6. 캐릭터 상세 페이지에서 채팅 시작
7. 채팅 1회 왕복 (메시지 전송 → AI 응답 수신)
8. 포인트 감소 확인 (UI 표시)
9. 포인트 감소 확인 (API 응답)

**기대 결과**: 초기 포인트가 정확히 표시되고, 채팅 후 포인트가 감소함

---

### P0-2: 이미지 생성 → 생성 성공 → 포인트 감소 (실패 시는 감소하지 않음)
**파일**: `e2e/points-critical.spec.ts`

**설명**: 이미지 생성이 성공한 경우에만 포인트가 감소하고, 실패 시에는 포인트가 감소하지 않는지 확인

**상세 단계**:
1. 로그인
2. 초기 포인트 확인 (API)
3. 캐릭터 생성 페이지로 이동
4. 이미지 생성 기능 찾기
5. 이미지 생성 모달 열기
6. 프롬프트 입력
7. 생성 버튼 클릭
8. 이미지 생성 완료 대기 (최대 60초)
9. 성공 시: 포인트 감소 확인
10. 실패 시: 포인트가 감소하지 않았는지 확인

**기대 결과**: 성공 시에만 포인트가 감소하고, 실패 시에는 포인트가 감소하지 않음

---

### P0-3: 포인트 0에서 채팅 불가 → "포인트 구매 필요" 표시 + 구매 안내
**파일**: `e2e/points-critical.spec.ts`

**설명**: 포인트가 0인 상태에서 채팅을 시도하면, 에러 메시지와 구매 안내가 표시되는지 확인

**기대 결과**: 포인트가 0일 때 채팅 불가 메시지와 구매 안내가 표시됨

---

### P0-4: 포인트 0에서 이미지 생성 불가 → 동일
**파일**: `e2e/points-critical.spec.ts`

**설명**: 포인트가 0인 상태에서 이미지 생성을 시도하면, 에러 메시지와 구매 안내가 표시되는지 확인

**기대 결과**: 포인트가 0일 때 이미지 생성 불가 메시지와 구매 안내가 표시됨

---

### P0-5: 통신 단절/LLM 실패 시 → 에러 표시 + 포인트 감소 없음 + 재시도 가능
**파일**: `e2e/points-critical.spec.ts`

**설명**: 네트워크 에러나 LLM 실패 시 에러가 표시되고, 포인트가 감소하지 않으며, 재시도할 수 있는지 확인

**기대 결과**: 에러 표시, 포인트 감소 없음, 재시도 가능

---

### P0-6: 로그아웃→재로그인 시 캐릭터/이력/포인트 유지
**파일**: `e2e/points-critical.spec.ts`

**설명**: 로그아웃 후, 재로그인 시 캐릭터, 채팅 이력, 포인트가 유지되는지 확인

**기대 결과**: 재로그인 시 모든 데이터가 유지됨

---

## 🟡 P1: 중요 테스트

### 인증 기능

#### 1-1-1: 메일 주소 회원가입
**파일**: `e2e/user-auth.spec.ts`

**설명**: 메일 주소로 신규 등록할 수 있는지 확인

**상세**: 이메일 인증이 필요하여 E2E 테스트에서는 스킵

---

#### 1-1-3: 메일 주소 로그인
**파일**: `e2e/user-auth.spec.ts`

**설명**: 올바른 인증 정보로 로그인할 수 있는지 확인

---

#### 1-1-4: 로그인 실패 (잘못된 비밀번호)
**파일**: `e2e/user-auth.spec.ts`

**설명**: 잘못된 비밀번호로 로그인할 수 없는지 확인

---

### 캐릭터 기능

#### 1-2-1: 캐릭터 검색
**파일**: `e2e/user-character.spec.ts`

**설명**: 키워드로 캐릭터를 검색할 수 있는지 확인

---

#### 1-2-2: 캐릭터 목록 확인
**파일**: `e2e/user-character.spec.ts`

**설명**: 캐릭터 목록이 정확히 표시되는지 확인

---

#### 1-2-3: 캐릭터 상세 확인
**파일**: `e2e/user-character.spec.ts`

**설명**: 캐릭터 상세 정보가 정확히 표시되는지 확인

---

#### 1-3-1: 캐릭터 생성 (AI 생성 기능 사용)
**파일**: `e2e/user-character.spec.ts`

**설명**: AI 생성 기능을 사용하여 캐릭터를 생성할 수 있는지 확인 (버튼 존재 확인만)

---

#### 1-3-2: 캐릭터 생성 (수동 입력)
**파일**: `e2e/user-character.spec.ts`

**설명**: 수동으로 캐릭터를 생성할 수 있는지 확인

---

### 채팅 기능

#### 1-4-1: 채팅 시작 (신규)
**파일**: `e2e/chat.spec.ts`

**설명**: 캐릭터 상세 페이지에서 채팅을 시작할 수 있는지 확인

---

#### 1-4-2: 메시지 전송·수신
**파일**: `e2e/chat.spec.ts`

**설명**: 메시지를 전송하고, AI 응답을 수신할 수 있는지 확인

---

#### 1-4-2-2: AI 응답 수신
**파일**: `e2e/chat.spec.ts`

**설명**: AI 응답을 수신할 수 있는지 확인

---

#### 1-4-3: 채팅 이력 확인
**파일**: `e2e/chat.spec.ts`

**설명**: 과거 채팅 이력이 정확히 표시되는지 확인

---

### 포인트·결제 기능

#### 1-5-1: 포인트 잔액 확인
**파일**: `e2e/user-points.spec.ts`

**설명**: 포인트 잔액이 정확히 표시되는지 확인

---

#### 1-5-3: 출석 체크
**파일**: `e2e/user-points.spec.ts`

**설명**: 출석 체크로 포인트가 지급되는지 확인

---

### 소셜 기능

#### 1-6-1: 자신의 프로필 확인
**파일**: `e2e/user-social.spec.ts`

**설명**: 자신의 프로필 정보가 정확히 표시되는지 확인

---

#### 1-6-2: 다른 유저의 프로필 확인
**파일**: `e2e/user-social.spec.ts`

**설명**: 다른 유저의 프로필을 확인할 수 있는지 확인

---

#### 1-6-3: 팔로우/언팔로우
**파일**: `e2e/user-social.spec.ts`

**설명**: 유저를 팔로우/언팔로우할 수 있는지 확인

---

#### 1-6-7: 좋아요 기능
**파일**: `e2e/user-social.spec.ts`

**설명**: 캐릭터에 좋아요를 할 수 있는지 확인

---

### 알림 기능

#### 1-7-1: 알림 목록 확인
**파일**: `e2e/user-notifications.spec.ts`

**설명**: 알림 목록이 정확히 표시되는지 확인

---

#### 1-7-2: 알림 읽음 처리
**파일**: `e2e/user-notifications.spec.ts`

**설명**: 알림을 읽음 처리할 수 있는지 확인

---

#### 1-7-4: 미읽음 알림 수 확인
**파일**: `e2e/user-notifications.spec.ts`

**설명**: 미읽음 알림 수가 정확히 표시되는지 확인

---

### 랭킹 기능

#### 1-8-1: 실시간 랭킹 확인
**파일**: `e2e/user-ranking.spec.ts`

**설명**: 실시간 랭킹이 정확히 표시되는지 확인

---

#### 1-8-2: 일간/주간/월간 랭킹 확인
**파일**: `e2e/user-ranking.spec.ts`

**설명**: 기간별 랭킹이 정확히 표시되는지 확인

---

### 문의·신고

#### 1-9-1: 문의 생성
**파일**: `e2e/user-inquiries.spec.ts`

**설명**: 문의를 생성할 수 있는지 확인

---

#### 1-9-2: 캐릭터 신고
**파일**: `e2e/user-inquiries.spec.ts`

**설명**: 캐릭터를 신고할 수 있는지 확인

---

### 페르소나 기능

#### 1-10-1: 페르소나 목록 확인
**파일**: `e2e/user-persona.spec.ts`

**설명**: 페르소나 목록이 정확히 표시되는지 확인

---

#### 1-10-2: 페르소나 생성
**파일**: `e2e/user-persona.spec.ts`

**설명**: 페르소나를 생성할 수 있는지 확인

---

### 공지·가이드·약관

#### 1-11-1: 공지 목록 확인
**파일**: `e2e/user-notices.spec.ts`

**설명**: 공지 목록이 정확히 표시되는지 확인

---

#### 1-11-2: 공지 상세 확인
**파일**: `e2e/user-notices.spec.ts`

**설명**: 공지 상세가 정확히 표시되는지 확인

---

## 🟢 P2: 일반 테스트

### 인증 기능

#### 1-1-5: 로그아웃
**파일**: `e2e/user-auth.spec.ts`

**설명**: 로그아웃할 수 있는지 확인

---

#### 1-1-6: 비밀번호 변경
**파일**: `e2e/user-auth.spec.ts`

**설명**: 비밀번호를 변경할 수 있는지 확인

---

### 캐릭터 기능

#### 1-2-4: 차단한 작성자의 캐릭터 검색 제외
**파일**: `e2e/user-character.spec.ts`

**설명**: 차단한 유저의 캐릭터가 검색 결과에 표시되지 않는지 확인

---

#### 1-3-3: 캐릭터 편집
**파일**: `e2e/user-character.spec.ts`

**설명**: 캐릭터 정보를 편집할 수 있는지 확인

---

#### 1-3-4: 캐릭터 삭제
**파일**: `e2e/user-character.spec.ts`

**설명**: 캐릭터를 삭제할 수 있는지 확인

---

#### 1-3-5: 캐릭터 클론
**파일**: `e2e/user-character.spec.ts`

**설명**: 다른 유저의 캐릭터를 클론할 수 있는지 확인

---

#### 1-3-6: 캐릭터 Export
**파일**: `e2e/user-character.spec.ts`

**설명**: 캐릭터를 Export할 수 있는지 확인

---

#### 1-3-7: 캐릭터 Import
**파일**: `e2e/user-character.spec.ts`

**설명**: 캐릭터를 Import할 수 있는지 확인

---

### 채팅 기능

#### 1-4-4: 채팅 취소
**파일**: `e2e/chat.spec.ts`

**설명**: 채팅을 취소할 수 있는지 확인

---

### 포인트·결제 기능

#### 1-5-4: 포인트 사용 확인
**파일**: `e2e/user-points.spec.ts`

**설명**: 채팅에서 포인트가 사용되는지 확인

---

### 소셜 기능

#### 1-6-8: 댓글 생성
**파일**: `e2e/user-social.spec.ts`

**설명**: 댓글을 생성할 수 있는지 확인

---

### 랭킹 기능

#### 1-8-3: 랭킹에서 캐릭터 클릭
**파일**: `e2e/user-ranking.spec.ts`

**설명**: 랭킹에서 캐릭터 상세로 이동할 수 있는지 확인

---

### 문의·신고

#### 1-9-3: 자신의 문의/신고 목록 확인
**파일**: `e2e/user-inquiries.spec.ts`

**설명**: 자신의 문의/신고 목록을 확인할 수 있는지 확인

---

### 페르소나 기능

#### 1-10-3: 페르소나 편집
**파일**: `e2e/user-persona.spec.ts`

**설명**: 페르소나를 편집할 수 있는지 확인

---

#### 1-10-4: 페르소나 삭제
**파일**: `e2e/user-persona.spec.ts`

**설명**: 페르소나를 삭제할 수 있는지 확인

---

### 공지·가이드·약관

#### 1-11-3: 가이드 확인
**파일**: `e2e/user-notices.spec.ts`

**설명**: 가이드를 확인할 수 있는지 확인

---

#### 1-11-4: 약관 확인
**파일**: `e2e/user-notices.spec.ts`

**설명**: 약관을 확인할 수 있는지 확인

---

## 📋 관리자 시나리오

### 유저 관리

#### 2-2-1: 유저 목록 확인
**파일**: `e2e/admin-user-management.spec.ts`

**설명**: 유저 목록이 정확히 표시되는지 확인

---

#### 2-2-2: 유저 검색 (메일/ID)
**파일**: `e2e/admin-user-management.spec.ts`

**설명**: 유저를 검색할 수 있는지 확인

---

#### 2-2-3: 유저 권한 변경
**파일**: `e2e/admin-user-management.spec.ts`

**설명**: 유저의 권한을 변경할 수 있는지 확인

---

#### 2-2-4: 유저 정보 편집
**파일**: `e2e/admin-user-management.spec.ts`

**설명**: 유저 정보를 편집할 수 있는지 확인

---

#### 2-2-5: 유저 정지
**파일**: `e2e/admin-user-management.spec.ts`

**설명**: 유저를 정지할 수 있는지 확인

---

### 캐릭터 관리

#### 2-3-1: 캐릭터 목록 확인
**파일**: `e2e/admin-character-management.spec.ts`

**설명**: 캐릭터 목록이 정확히 표시되는지 확인

---

#### 2-3-3: 캐릭터 공개/비공개 전환
**파일**: `e2e/admin-character-management.spec.ts`

**설명**: 캐릭터의 공개 상태를 변경할 수 있는지 확인

---

#### 2-3-5: 캐릭터 삭제
**파일**: `e2e/admin-character-management.spec.ts`

**설명**: 캐릭터를 삭제할 수 있는지 확인

---

#### 2-3-7: 나모아이 프렌즈 등록/해제
**파일**: `e2e/admin-character-management.spec.ts`

**설명**: 공식 캐릭터로 등록/해제할 수 있는지 확인

---

### 기타 관리자 기능

#### 2-4-1: 공지 목록 확인
**파일**: `e2e/admin-notices.spec.ts`

**설명**: 공지 목록이 정확히 표시되는지 확인

---

#### 2-4-2: 공지 생성
**파일**: `e2e/admin-notices.spec.ts`

**설명**: 공지를 생성할 수 있는지 확인

---

#### 2-5-1: 가이드 목록 확인
**파일**: `e2e/admin-guides.spec.ts`

**설명**: 가이드 목록이 정확히 표시되는지 확인

---

#### 2-5-2: 가이드 생성
**파일**: `e2e/admin-guides.spec.ts`

**설명**: 가이드를 생성할 수 있는지 확인

---

#### 2-6-1: 배너 목록 확인
**파일**: `e2e/admin-banners.spec.ts`

**설명**: 배너 목록이 정확히 표시되는지 확인

---

#### 2-6-2: 배너 생성
**파일**: `e2e/admin-banners.spec.ts`

**설명**: 배너를 생성할 수 있는지 확인

---

#### 2-7-1: 약관 목록 확인
**파일**: `e2e/admin-terms.spec.ts`

**설명**: 약관 목록이 정확히 표시되는지 확인

---

#### 2-7-2: 약관 편집
**파일**: `e2e/admin-terms.spec.ts`

**설명**: 약관을 편집할 수 있는지 확인

---

#### 2-8-1: 신고 목록 확인
**파일**: `e2e/admin-reports.spec.ts`

**설명**: 신고 목록이 정확히 표시되는지 확인

---

#### 2-8-2: 신고 필터링
**파일**: `e2e/admin-reports.spec.ts`

**설명**: 신고를 필터링할 수 있는지 확인

---

#### 2-8-4: 신고 상태 변경
**파일**: `e2e/admin-reports.spec.ts`

**설명**: 신고의 상태를 변경할 수 있는지 확인

---

#### 2-10-1: IP 블록
**파일**: `e2e/admin-ip-management.spec.ts`

**설명**: IP를 블록할 수 있는지 확인

---

#### 2-10-2: IP 블록 해제
**파일**: `e2e/admin-ip-management.spec.ts`

**설명**: IP 블록을 해제할 수 있는지 확인

---

#### 2-10-3: IP 모니터링
**파일**: `e2e/admin-ip-management.spec.ts`

**설명**: IP 접근을 모니터링할 수 있는지 확인

---

## 📋 기타 기능

#### 3-3-1: 채팅 후 랭킹 반영 확인
**파일**: `e2e/misc-features.spec.ts`

**설명**: 채팅 후, 랭킹에 반영되는지 확인

---

#### 3-5-1: 세이프티 필터 ON 시 OFF 캐릭터 블록
**파일**: `e2e/misc-features.spec.ts`

**설명**: 세이프티 필터 ON 시, OFF 캐릭터와 채팅할 수 없는지 확인

---

#### 3-12-2: 채팅 노트 기능
**파일**: `e2e/misc-features.spec.ts`

**설명**: 채팅 노트를 생성할 수 있는지 확인

---

## 📋 추가 유저 시나리오

### 인증 기능 (추가)

#### AUTH-1: 메일 주소와 비밀번호로 로그인 가능
**파일**: `e2e/auth.spec.ts`

**설명**: 메일 주소와 비밀번호로 로그인할 수 있는지 확인

---

#### AUTH-2: 로그아웃 가능
**파일**: `e2e/auth.spec.ts`

**설명**: 로그아웃할 수 있는지 확인

---

#### AUTH-3: 잘못된 비밀번호로 로그인 불가
**파일**: `e2e/auth.spec.ts`

**설명**: 잘못된 비밀번호로 로그인할 수 없는지 확인

---

### 캐릭터 검색 기능

#### CHAR-SEARCH-1: 캐릭터 목록 페이지 표시
**파일**: `e2e/character-search.spec.ts`

**설명**: 캐릭터 목록 페이지가 정확히 표시되는지 확인

---

#### CHAR-SEARCH-2: 캐릭터 검색 가능
**파일**: `e2e/character-search.spec.ts`

**설명**: 키워드로 캐릭터를 검색할 수 있는지 확인

---

#### CHAR-SEARCH-3: 캐릭터 상세 페이지로 이동 가능
**파일**: `e2e/character-search.spec.ts`

**설명**: 캐릭터 상세 페이지로 이동할 수 있는지 확인

---

### 유저 저니

#### JOURNEY-1: 로그인부터 채팅까지의 일련의 흐름
**파일**: `e2e/user-journey.spec.ts`

**설명**: 로그인부터 채팅 시작까지의 전체 흐름이 정상적으로 동작하는지 확인

---

## 📌 참고사항

- 각 시나리오의 상태는 `E2E_TEST_SCENARIOS.md` 참조
- 테스트 파일 위치: `e2e/*.spec.ts`
- 우선순위: P0 (크리티컬) > P1 (중요) > P2 (일반)
- 총 유저 시나리오: 52개 (문서 기준 40개 + 추가 12개)


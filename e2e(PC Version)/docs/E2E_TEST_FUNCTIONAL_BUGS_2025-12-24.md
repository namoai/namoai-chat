# E2E 테스트 기능 버그 후보 (2025-12-24)

## 개요

스킵된 테스트 중 기능 버그 가능성이 있는 항목들을 정리한 문서입니다.

---

## 기능 버그 후보 (선택자 문제로 추정)

### 1. `1-1-6: パスワード変更` ✅ (수정 완료)

**문제**: MyPage에서 패스워드 변경 링크/버튼을 찾지 못함

**확인 사항**:
- ✅ `/change-password` 페이지는 존재함 (`src/app/change-password/page.tsx`)
- ✅ API 엔드포인트는 구현되어 있음 (`/api/users/change-password`)
- ✅ 프로필 페이지(`/profile/[userId]`)의 케밥 메뉴(MoreVertical)에 "パスワード変更" 버튼이 있음
- ✅ `profile.hasPassword`가 true일 때만 표시됨

**해결 방안**:
- ✅ 프로필 페이지로 이동
- ✅ 케밥 메뉴(MoreVertical) 버튼 클릭
- ✅ "パスワード変更" 메뉴 항목 클릭
- ✅ `/change-password` 페이지로 이동 확인

**우선순위**: 높음 (수정 완료)

---

### 2. `1-5-3: 出席チェック` ⚠️

**문제**: 출석 체크 버튼을 찾지 못함

**확인 사항**:
- ✅ 출석 체크 버튼이 구현되어 있음 (`src/app/points/page.tsx:283-303`)
- ✅ 버튼 텍스트: "出席して30ポイントGET" 또는 "本日は出席済み"
- ❌ 테스트 선택자: `button:has-text("出席チェック")` → 매칭 실패

**해결 방안**:
- 선택자를 `button:has-text("出席して30ポイントGET")` 또는 `button:has-text("出席")`로 수정

**우선순위**: 높음

---

### 3. `1-9-2: キャラクター通報` ⚠️

**문제**: 신고 버튼을 찾지 못함

**확인 사항**:
- ✅ 신고 기능이 구현되어 있음 (`src/app/characters/[characterId]/page.tsx:508-554`)
- ✅ 신고 버튼은 케밥 메뉴(MoreVertical) 안에 있음
- ✅ 버튼 텍스트: "通報する" (Flag 아이콘과 함께)
- ❌ 테스트에서 케밥 메뉴를 열지 않고 직접 신고 버튼을 찾음

**해결 방안**:
1. 케밥 메뉴 버튼 클릭 (MoreVertical 아이콘)
2. "通報する" 메뉴 항목 클릭
3. 신고 모달에서 신고 사유 선택 및 입력

**우선순위**: 높음

---

## 선택자 개선 필요 (기능은 정상)

### 4. `1-6-7: いいね機能`

**문제**: 좋아요 버튼을 찾지 못함

**확인 사항**:
- ✅ 좋아요 기능이 구현되어 있음 (`src/app/characters/[characterId]/page.tsx:606-628`)
- ✅ 좋아요 버튼은 Heart 아이콘 버튼 (`button:has(Heart)`)
- ❌ 테스트 선택자: `button:has-text("いいね")` → 버튼에 텍스트가 없음

**해결 방안**:
- 선택자를 `button:has(svg)` 또는 `button:has(Heart)`로 수정
- 또는 `button[aria-label*="like"]` 사용 (aria-label이 있는 경우)

**우선순위**: 중간

---

### 5. `1-6-8: コメント作成`

**문제**: 댓글 입력란을 찾지 못함

**확인 사항**:
- ✅ 댓글 기능이 구현되어 있음 (`src/app/characters/[characterId]/page.tsx:79-274`)
- ✅ 댓글 입력란: `input[type="text"]` with `placeholder="コメントを追加..."`
- ❌ 테스트 선택자: `textarea[placeholder*="コメント"]` → `input`이 아니라 `textarea`를 찾음

**해결 방안**:
- 선택자를 `input[placeholder*="コメントを追加"]` 또는 `input[type="text"][placeholder*="コメント"]`로 수정

**우선순위**: 중간

---

### 6. `1-6-3: フォロー/アンフォロー`

**문제**: 팔로우 버튼을 찾지 못함

**확인 사항**:
- ✅ 팔로우 기능이 구현되어 있음 (`src/app/profile/[userId]/page.tsx:248-267`)
- ❓ 다른 사용자의 프로필 페이지에 접근 가능한지 확인 필요
- ❓ 자신의 프로필에서는 팔로우 버튼이 표시되지 않을 수 있음

**해결 방안**:
- 테스트용 다른 사용자 ID 확인
- 프로필 페이지 구조 확인
- 팔로우 버튼 선택자 개선

**우선순위**: 중간

---

### 7. `1-3-5: キャラクタークローン`

**문제**: 클론 메뉴 항목을 찾지 못함

**확인 사항**:
- ✅ 클론 기능이 구현되어 있을 것으로 추정
- ❓ 케밥 메뉴에서 "コピーから新規作成" 메뉴 항목이 표시되는지 확인 필요

**해결 방안**:
- 캐릭터 관리 페이지 구조 확인
- 케밥 메뉴 열기 → "コピーから新規作成" 클릭 로직 개선

**우선순위**: 중간

---

## 데이터 의존성 (기능 버그 아님)

### 8. `1-11-2: お知らせ詳細確認`

**문제**: 공지사항을 찾지 못함

**확인 사항**:
- ✅ 공지사항 상세 페이지가 구현되어 있음
- ✅ 공지사항 목록 페이지가 구현되어 있음
- ❓ 공지사항이 없으면 스킵되는 것이 정상

**해결 방안**:
- 공지사항이 있을 때만 테스트 실행
- 또는 테스트용 공지사항 생성

**우선순위**: 낮음

---

## 요약

### 즉시 수정 필요 (높은 우선순위) ⚠️
1. `1-1-6: パスワード変更` - MyPage 링크 확인 또는 직접 이동
2. `1-5-3: 出席チェック` - 버튼 텍스트 선택자 수정
3. `1-9-2: キャラクター通報` - 케밥 메뉴 열기 로직 추가

### 선택자 개선 필요 (중간 우선순위)
4. `1-6-7: いいね機能` - Heart 아이콘 버튼 선택자 수정
5. `1-6-8: コメント作成` - 댓글 입력란 선택자 수정
6. `1-6-3: フォロー/アンフォロー` - 다른 사용자 프로필 접근 확인
7. `1-3-5: キャラクタークローン` - 클론 메뉴 항목 선택자 개선

### 데이터 의존성 (낮은 우선순위)
8. `1-11-2: お知らせ詳細確認` - 공지사항 데이터 확인

---

## 참고

- [스킵 원인 분석](./E2E_TEST_SKIP_ANALYSIS_2025-12-24.md)
- [현재 상태](./E2E_TEST_CURRENT_STATUS.md)


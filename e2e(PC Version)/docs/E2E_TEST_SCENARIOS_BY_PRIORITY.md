# E2E テストシナリオ（優先度別）

**最終更新**: 2025年12月22日  
**対象環境**: develop環境（NAMOAIChat）

---

## 🔴 P0: クリティカルテスト（必須）

### 対象シナリオ（P0）

#### 1) 新規登録 or ログイン → 初期ポイント確認 → チャット1往復 → ポイント減少
**テストファイル**: `e2e/points-critical.spec.ts` (P0-1)

**ステップ**:
1. テスト用ユーザーを作成（または既存ユーザーでログイン）
2. ログイン実行
3. 初期ポイントを確認（UI表示）
4. 初期ポイントを確認（APIレスポンス）
5. キャラクター一覧から最初のキャラクターを選択
6. キャラクター詳細ページでチャット開始
7. チャット1往復（メッセージ送信 → AI応答受信）
8. ポイント減少を確認（UI表示）
9. ポイント減少を確認（APIレスポンス）

**期待結果**: 初期ポイントが正しく表示され、チャット後にポイントが減少する

---

#### 2) 画像作成 → 生成成功 → ポイント減少（失敗時は減らない）
**テストファイル**: `e2e/points-critical.spec.ts` (P0-2)

**ステップ**:
1. ログイン
2. 初期ポイントを確認（API）
3. キャラクター作成ページに移動
4. 画像生成機能を探す
5. 画像生成モーダルを開く
6. プロンプトを入力
7. 生成ボタンをクリック
8. 画像生成完了を待つ（最大60秒）
9. 成功時: ポイント減少を確認
10. 失敗時: ポイントが減っていないことを確認

**期待結果**: 成功時のみポイントが減少し、失敗時はポイントが減らない

---

#### 3) ポイント0でチャット不可 → 「ポイント購入が必要です」表示 + 購入導線
**テストファイル**: `e2e/points-critical.spec.ts` (P0-3)

**ステップ**:
1. ログイン
2. ポイントを0に設定（管理者APIまたは直接DB操作）
3. キャラクター詳細ページに移動
4. チャット開始を試みる
5. エラーメッセージまたはポイント不足メッセージを確認
6. 購入導線（ポイント購入ページへのリンク）を確認

**期待結果**: エラーメッセージと購入ページへのリンクが表示される

---

#### 4) ポイント0で画像作成不可 → 同上
**テストファイル**: `e2e/points-critical.spec.ts` (P0-4)

**ステップ**:
1. ログイン
2. ポイントを0に設定（実装に応じて）
3. キャラクター作成ページに移動
4. 画像生成を試みる
5. エラーメッセージを確認
6. 購入導線を確認

**期待結果**: エラーメッセージと購入ページへのリンクが表示される

---

#### 5) 通信断/LLM失敗時 → エラー表示 + ポイント減らない + 再試行できる
**テストファイル**: `e2e/points-critical.spec.ts` (P0-5)

**ステップ**:
1. ログイン
2. 初期ポイントを確認（API）
3. チャットページに移動
4. ネットワークをオフラインに設定（通信断をシミュレート）
5. メッセージ送信を試みる
6. エラーメッセージを確認
7. ポイントが減っていないことを確認
8. ネットワークをオンラインに戻す
9. 再試行できることを確認
10. 正常に応答が返ることを確認
11. 再試行後はポイントが減ることを確認

**期待結果**: エラー表示、ポイント不変、再試行可能

---

#### 6) ログアウト→再ログインでキャラ/履歴/ポイント保持（仕様に合わせる）
**テストファイル**: `e2e/points-critical.spec.ts` (P0-6)

**ステップ**:
1. ログイン
2. 初期ポイントを確認（API）
3. チャットを1往復
4. チャット履歴を記録
5. ログアウト
6. 再ログイン
7. ポイントが保持されていることを確認
8. チャット履歴が保持されていることを確認

**期待結果**: データが正しく保持される

---

## 🟡 P1: 重要テスト

### 認証・アカウント管理

#### 1-1-1: メールアドレス 회원가입
**テストファイル**: `e2e/user-auth.spec.ts`

**ステップ**:
1. 会員登録ページにアクセス
2. メールアドレス、パスワード、名前、電話番号、ニックネームを入力
3. 会員登録を実行
4. プロフィール完成ページにリダイレクトされることを確認
5. プロフィール完成（生年月日、性別、自己紹介などを入力）
6. 完了後、ホーム画面に移動することを確認

**期待結果**: 登録成功、プロフィール完成ページへリダイレクト

---

#### 1-1-3: メールアドレス 로그イン
**テストファイル**: `e2e/user-auth.spec.ts`

**ステップ**:
1. ログインページにアクセス
2. メールアドレスとパスワードを入力
3. ログインボタンをクリック
4. ホーム画面にリダイレクトされることを確認
5. セッション維持を確認

**期待結果**: ログイン成功、ホーム画面にリダイレクト

---

### キャラクター機能

#### 1-2-1: キャラクター検索
**テストファイル**: `e2e/user-character.spec.ts`

**ステップ**:
1. ホーム画面または検索ページにアクセス
2. 検索窓にキーワードを入力
3. 検索を実行
4. 検索結果リストが表示されることを確認
5. 検索結果からキャラクターを選択
6. キャラクター詳細ページに移動することを確認

**期待結果**: 検索結果が表示され、キャラクター詳細ページに移動

---

#### 1-2-2: キャラクター一覧確認
**テストファイル**: `e2e/user-character.spec.ts`

**ステップ**:
1. キャラクター一覧ページにアクセス
2. キャラクターリストが表示されることを確認
3. カテゴリーフィルターでフィルタリング（例: "ロマンス"、"ファンタジー"など）
4. タグフィルターでフィルタリング
5. ソート機能を確認（新着順、人気順、いいね順）
6. ページネーション動作を確認

**期待結果**: 一覧が正しく表示され、フィルタリング・ソートが動作

---

#### 1-2-3: キャラクター詳細確認
**テストファイル**: `e2e/user-character.spec.ts`

**ステップ**:
1. キャラクター詳細ページにアクセス
2. キャラクター名、説明が表示されることを確認
3. キャラクター画像が表示され、画像切り替えを確認
4. 詳細設定、最初の状況、最初のメッセージが表示されることを確認
5. いいね数、コメント数が表示されることを確認
6. 作成者情報が表示されることを確認

**期待結果**: すべての情報が正しく表示される

---

#### 1-3-2: キャラクター作成（手動入力）
**テストファイル**: `e2e/user-character.spec.ts`

**ステップ**:
1. キャラクター作成ページにアクセス
2. 名前、説明、詳細設定、最初の状況、最初のメッセージを手動入力
3. 画像をアップロード
4. カテゴリー、ハッシュタグを設定
5. 公開設定、セーフティフィルターを設定
6. 保存を実行
7. 作成完了を確認
8. 作成したキャラクターが自分のキャラクターリストに表示されることを確認

**期待結果**: 作成成功、一覧に表示

---

### チャット機能

#### 1-4-1: チャット開始（新規）
**テストファイル**: `e2e/chat.spec.ts`

**ステップ**:
1. キャラクター詳細ページにアクセス
2. "チャット開始"ボタンをクリック
3. チャットページに移動することを確認
4. 最初のメッセージが表示されることを確認
5. チャットIDが生成されることを確認

**期待結果**: チャットページに移動、最初のメッセージ表示

---

#### 1-4-2: メッセージ送信・受信
**テストファイル**: `e2e/chat.spec.ts`

**ステップ**:
1. チャット画面でメッセージを入力
2. 送信ボタンをクリック
3. 自分のメッセージが画面に表示されることを確認
4. ポイント減額を確認（必要に応じて）
5. AI応答を待つ（ローディング表示を確認）
6. AI応答を受信することを確認
7. 応答が画面に表示されることを確認

**期待結果**: メッセージ送信成功、AI応答受信

---

#### 1-4-3: チャット履歴確認
**テストファイル**: `e2e/chat.spec.ts`

**ステップ**:
1. チャットリストページにアクセス
2. 過去のチャットリストが表示されることを確認
3. 特定のチャットを選択
4. チャット内容を読み込むことを確認
5. メッセージ履歴が表示されることを確認

**期待結果**: 履歴が正しく表示される

---

### ポイント・決済機能

#### 1-5-1: ポイント残高確認
**テストファイル**: `e2e/user-points.spec.ts`

**ステップ**:
1. ポイントページにアクセス
2. 無料ポイント、有料ポイントが表示されることを確認
3. 総ポイントが表示されることを確認

**期待結果**: ポイント残高が正しく表示される

---

#### 1-5-3: 出席チェック
**テストファイル**: `e2e/user-points.spec.ts`

**ステップ**:
1. ポイントページにアクセス
2. 出席チェックボタンをクリック
3. ポイント付与を確認（30ポイント）
4. 出席チェック完了メッセージを確認
5. 次の日に出席チェックを試みる
6. "既に出席チェック完了"メッセージを確認（または正常付与）

**期待結果**: ポイントが付与され、1日1回制限が動作

---

### ソーシャル機能

#### 1-6-1: 自分のプロフィール確認
**テストファイル**: `e2e/user-social.spec.ts`

**ステップ**:
1. マイページまたはプロフィールページにアクセス
2. プロフィール情報が表示されることを確認（ニックネーム、自己紹介など）
3. 自分が作成したキャラクターリストが表示されることを確認
4. フォロワー数、フォロー中数が表示されることを確認
5. 総チャットメッセージ数が表示されることを確認

**期待結果**: プロフィール情報が正しく表示される

---

#### 1-6-3: フォロー/アンフォロー
**テストファイル**: `e2e/user-social.spec.ts`

**ステップ**:
1. 他ユーザーのプロフィールページにアクセス
2. フォローボタンをクリック
3. フォロー状態に変更されることを確認
4. フォロー中数が増加することを確認
5. 該当ユーザーのフォロワー数が増加することを確認
6. 再度フォローボタンをクリック（アンフォロー）
7. アンフォローを確認
8. フォロワー/フォロー中数が減少することを確認

**期待結果**: フォロー/アンフォローが正常に動作

---

#### 1-6-7: いいね機能
**テストファイル**: `e2e/user-social.spec.ts`

**ステップ**:
1. キャラクター詳細ページにアクセス
2. いいねボタンをクリック
3. いいね状態に変更されることを確認
4. いいね数が増加することを確認
5. 再度いいねボタンをクリック（いいね解除）
6. いいね解除を確認
7. いいね数が減少することを確認

**期待結果**: いいね機能が正常に動作

---

### 通知機能

#### 1-7-1: 通知一覧確認
**テストファイル**: `e2e/user-notifications.spec.ts`

**ステップ**:
1. 通知ページにアクセス
2. 通知リストが表示されることを確認
3. 通知種類別に表示されることを確認（フォロー、いいね、コメントなど）
4. 通知時間順にソートされることを確認

**期待結果**: 通知一覧が正しく表示される

---

#### 1-7-2: 通知既読処理
**テストファイル**: `e2e/user-notifications.spec.ts`

**ステップ**:
1. 通知ページにアクセス
2. 未読の通知を選択
3. 既読処理を実行
4. 通知が既読状態に変更されることを確認
5. 未読数が減少することを確認

**期待結果**: 既読処理が正常に動作

---

### ランキング機能

#### 1-8-1: リアルタイムランキング確認
**テストファイル**: `e2e/user-ranking.spec.ts`

**ステップ**:
1. ランキングページにアクセス
2. リアルタイムタブを選択
3. リアルタイムランキングリストが表示されることを確認
4. チャット数順位を確認
5. 上位50件が表示されることを確認

**期待結果**: リアルタイムランキングが正しく表示される

---

#### 1-8-2: 日次/週次/月次ランキング確認
**テストファイル**: `e2e/user-ranking.spec.ts`

**ステップ**:
1. ランキングページにアクセス
2. 日次/週次/月次タブを選択
3. 該当期間のランキングが表示されることを確認
4. チャット数集計が正確であることを確認

**期待結果**: 期間別ランキングが正しく表示される

---

### お問い合わせ・通報機能

#### 1-9-1: お問い合わせ作成
**テストファイル**: `e2e/user-inquiries.spec.ts`

**ステップ**:
1. マイページ > お問い合わせにアクセス
2. お問い合わせ種類を選択（システム問題、返金リクエスト、機能リクエスト、バグレポートなど）
3. タイトルを入力
4. 内容を入力
5. お問い合わせ作成を実行
6. 作成完了メッセージを確認
7. 自分のお問い合わせリストに追加されることを確認

**期待結果**: お問い合わせ作成成功

---

#### 1-9-2: キャラクター通報
**テストファイル**: `e2e/user-inquiries.spec.ts`

**ステップ**:
1. キャラクター詳細ページにアクセス
2. 通報ボタンをクリック
3. 通報種類を選択
4. 通報理由を入力
5. 通報内容を入力
6. 通報を実行
7. 通報完了メッセージを確認

**期待結果**: 通報成功

---

### ペルソナ機能

#### 1-10-1: ペルソナ一覧確認
**テストファイル**: `e2e/user-persona.spec.ts`

**ステップ**:
1. ペルソナページにアクセス
2. 自分のペルソナリストが表示されることを確認

**期待結果**: ペルソナ一覧が正しく表示される

---

#### 1-10-2: ペルソナ作成
**テストファイル**: `e2e/user-persona.spec.ts`

**ステップ**:
1. ペルソナ作成ページにアクセス
2. ニックネーム、年齢、性別、説明を入力
3. 保存を実行
4. 作成完了を確認
5. ペルソナリストに追加されることを確認

**期待結果**: ペルソナ作成成功

---

### お知らせ・ガイド・約款

#### 1-11-1: お知らせ一覧確認
**テストファイル**: `e2e/user-notices.spec.ts`

**ステップ**:
1. お知らせページにアクセス
2. お知らせリストが表示されることを確認
3. 最新順にソートされることを確認

**期待結果**: お知らせ一覧が正しく表示される

---

#### 1-11-2: お知らせ詳細確認
**テストファイル**: `e2e/user-notices.spec.ts`

**ステップ**:
1. お知らせリストからお知らせを選択
2. お知らせ詳細内容が表示されることを確認
3. タイトル、本文、作成日が表示されることを確認

**期待結果**: お知らせ詳細が正しく表示される

---

### 管理者機能

#### 2-1-1: 管理者ログイン
**テストファイル**: `e2e/admin-user-management.spec.ts`

**ステップ**:
1. 管理者アカウントでログイン
2. 管理画面にアクセス
3. 管理者ダッシュボードが表示されることを確認
4. 権限を確認（SUPER_ADMIN, MODERATOR, CHAR_MANAGERなど）

**期待結果**: 管理者ダッシュボードが表示される

---

#### 2-2-1: ユーザー一覧確認
**テストファイル**: `e2e/admin-user-management.spec.ts`

**ステップ**:
1. ユーザー管理ページにアクセス
2. ユーザーリストが表示されることを確認
3. ユーザー情報が表示されることを確認（ID、名前、メール、登録日、権限など）

**期待結果**: ユーザー一覧が正しく表示される

---

#### 2-2-2: ユーザー検索（メール/ID）
**テストファイル**: `e2e/admin-user-management.spec.ts`

**ステップ**:
1. ユーザー管理ページにアクセス
2. 検索窓に検索語を入力（名前、ニックネーム、メールアドレス）
3. 検索を実行
4. 検索結果が表示されることを確認
5. 検索結果からユーザーを選択すると詳細情報が表示されることを確認

**期待結果**: 検索結果が正しく表示される

---

#### 2-2-5: ユーザー停止
**テストファイル**: `e2e/admin-user-management.spec.ts`

**ステップ**:
1. ユーザー管理ページにアクセス
2. 停止するユーザーを選択
3. 停止ボタンをクリック
4. 停止期間を選択（1日、3日、7日、1ヶ月、3ヶ月、100日、1年、永久停止）
5. 停止理由を入力
6. 停止を実行
7. 停止完了メッセージを確認
8. ユーザーリストで停止状態が表示されることを確認（停止中バッジ）
9. 停止されたユーザーがログインを試みると停止ページが表示されることを確認

**期待結果**: ユーザー停止成功、停止状態表示

---

#### 2-3-1: キャラクター一覧確認
**テストファイル**: `e2e/admin-character-management.spec.ts`

**ステップ**:
1. キャラクター管理ページにアクセス
2. 全体のキャラクターリストが表示されることを確認
3. キャラクター情報が表示されることを確認（名前、説明、作成者、公開状態など）

**期待結果**: キャラクター一覧が正しく表示される

---

#### 2-3-3: キャラクター公開/非公開切替
**テストファイル**: `e2e/admin-character-management.spec.ts`

**ステップ**:
1. キャラクター管理ページにアクセス
2. キャラクターケバブメニューを開く
3. 公開/非公開切替を選択
4. 確認ダイアログが表示される
5. 切替を実行
6. 変更完了を確認
7. リストで公開状態が変更されることを確認
8. 一般ユーザー画面で反映を確認（公開→非公開時、検索結果から除外）

**期待結果**: 公開状態変更成功

---

#### 2-3-7: ナモアイフレンズ登録/解除
**テストファイル**: `e2e/admin-character-management.spec.ts`

**ステップ**:
1. キャラクター管理ページにアクセス
2. キャラクターケバブメニューを開く
3. ナモアイフレンズ登録/解除を選択
4. 登録/解除を実行
5. 変更完了を確認
6. ホーム画面でナモアイフレンズセクションに反映されることを確認

**期待結果**: 登録/解除成功、ホーム画面に反映

---

#### 2-4-1: お知らせ一覧確認
**テストファイル**: `e2e/admin-notices.spec.ts`

**ステップ**:
1. お知らせ管理ページにアクセス
2. お知らせリストが表示されることを確認

**期待結果**: お知らせ一覧が正しく表示される

---

#### 2-4-2: お知らせ作成
**テストファイル**: `e2e/admin-notices.spec.ts`

**ステップ**:
1. お知らせ管理ページにアクセス
2. お知らせ作成ボタンをクリック
3. タイトルを入力
4. 本文を入力
5. 公開設定を選択
6. 保存を実行
7. 作成完了を確認
8. お知らせリストに追加されることを確認
9. 一般ユーザー画面でお知らせが表示されることを確認

**期待結果**: お知らせ作成成功、一般ユーザー画面に表示

---

#### 2-8-1: 通報一覧確認
**テストファイル**: `e2e/admin-reports.spec.ts`

**ステップ**:
1. 通報管理ページにアクセス
2. 通報リストが表示されることを確認
3. 通報情報が表示されることを確認（種類、通報者、通報対象、状態など）

**期待結果**: 通報一覧が正しく表示される

---

#### 2-8-2: 通報フィルタリング
**テストファイル**: `e2e/admin-reports.spec.ts`

**ステップ**:
1. 通報管理ページにアクセス
2. 種類別フィルタリング（キャラクター通報、お問い合わせなど）
3. 状態別フィルタリング（待機中、レビュー中、解決済み、拒否済み）
4. フィルタリング結果を確認

**期待結果**: フィルタリングが正常に動作

---

#### 2-5-1: ガイド一覧確認
**テストファイル**: `e2e/admin-guides.spec.ts`

**ステップ**:
1. ガイド管理ページにアクセス
2. ガイドリストが表示されることを確認
3. カテゴリー別にソートされることを確認

**期待結果**: ガイド一覧が正しく表示される

---

#### 2-5-2: ガイド作成
**テストファイル**: `e2e/admin-guides.spec.ts`

**ステップ**:
1. ガイド管理ページにアクセス
2. ガイド作成フォームに入力
3. 大メニュー、小メニューを入力
4. タイトル、内容を入力（HTML可能）
5. 表示順序を入力
6. 保存を実行
7. 作成完了を確認
8. ガイドリストに追加されることを確認
9. 一般ユーザー画面でガイドが表示されることを確認

**期待結果**: ガイド作成成功、一般ユーザー画面に表示

---

#### 2-6-1: バナー一覧確認
**テストファイル**: `e2e/admin-banners.spec.ts`

**ステップ**:
1. バナー管理ページにアクセス
2. バナーリストが表示されることを確認

**期待結果**: バナー一覧が正しく表示される

---

#### 2-6-2: バナー作成
**テストファイル**: `e2e/admin-banners.spec.ts`

**ステップ**:
1. バナー管理ページにアクセス
2. バナー作成ボタンをクリック
3. 画像をアップロード
4. リンクを設定
5. 表示順序を設定
6. 保存を実行
7. 作成完了を確認
8. ホーム画面でバナーが表示されることを確認

**期待結果**: バナー作成成功、ホーム画面に表示

---

#### 2-7-1: 約款一覧確認
**テストファイル**: `e2e/admin-terms.spec.ts`

**ステップ**:
1. 約款管理ページにアクセス
2. 約款リストが表示されることを確認

**期待結果**: 約款一覧が正しく表示される

---

#### 2-10-1: IPブロック
**テストファイル**: `e2e/admin-ip-management.spec.ts`

**ステップ**:
1. IPブロック管理ページにアクセス
2. IPアドレスを入力
3. ブロック理由を入力
4. ブロックを実行
5. ブロック完了を確認
6. ブロックリストに追加されることを確認

**期待結果**: IPブロック成功

---

#### 2-10-2: IPブロック解除
**テストファイル**: `e2e/admin-ip-management.spec.ts`

**ステップ**:
1. IPブロック管理ページにアクセス
2. ブロックされたIPを選択
3. ブロック解除ボタンをクリック
4. 解除を実行
5. ブロック解除完了を確認

**期待結果**: IPブロック解除成功

---

#### 3-3-1: チャット後ランキング反映確認
**テストファイル**: `e2e/misc-features.spec.ts`

**ステップ**:
1. キャラクターとチャット開始
2. 複数のメッセージを交換（最低5個以上）
3. ランキングページにアクセス
4. 該当キャラクターがランキングに反映されていることを確認
5. チャット数が正確に集計されていることを確認
6. リアルタイム/日次/週次/月次ランキングすべてを確認

**期待結果**: ランキングに反映される

---

#### 3-5-1: セーフティフィルターON時OFFキャラクターブロック
**テストファイル**: `e2e/misc-features.spec.ts`

**ステップ**:
1. セーフティフィルターON状態を確認
2. セーフティフィルターOFFキャラクター詳細ページにアクセス
3. "チャット開始"ボタンをクリックしようとする
4. エラーメッセージが表示されることを確認（チャット開始不可）
5. セーフティフィルターOFFに変更
6. 再度チャット開始を試みる
7. チャット開始可能であることを確認

**期待結果**: セーフティフィルターが正常に動作

---

## 🟢 P2: 通常テスト

### 認証・アカウント管理

#### 1-1-2: Google 계정 회원가입
**テストファイル**: `e2e/user-auth.spec.ts`

**ステップ**:
1. Googleログインボタンをクリック
2. Google認証を進行
3. 追加情報を入力（ニックネームなど）
4. 会員登録完了を確認

**期待結果**: Googleアカウントで登録成功

---

#### 1-1-4: Google 계정 로그イン
**テストファイル**: `e2e/user-auth.spec.ts`

**ステップ**:
1. Googleログインボタンをクリック
2. Google認証を進行
3. ログイン完了後、ホーム画面に移動することを確認

**期待結果**: Googleアカウントでログイン成功

---

#### 1-1-5: ログアウト
**テストファイル**: `e2e/user-auth.spec.ts`

**ステップ**:
1. ログアウトボタンをクリック
2. ログアウト完了を確認
3. ログインページにリダイレクトされることを確認

**期待結果**: ログアウト成功

---

#### 1-1-6: パスワード変更
**テストファイル**: `e2e/user-auth.spec.ts`

**ステップ**:
1. マイページにアクセス
2. パスワード変更メニューを選択
3. 現在のパスワードを入力
4. 新しいパスワードを入力および確認
5. 変更を実行
6. 変更成功メッセージを確認
7. 新しいパスワードでログインを確認

**期待結果**: パスワード変更成功

---

#### 1-1-7: 2FA (2단계 인증) 활성화
**テストファイル**: `e2e/user-auth.spec.ts`

**ステップ**:
1. 2FA設定ページにアクセス
2. 2FA有効化を実行
3. 認証コードを入力
4. 有効化完了を確認
5. 次のログイン時に2FAコード要求を確認

**期待結果**: 2FA有効化成功

---

#### 1-1-8: 이메일 인증
**テストファイル**: `e2e/user-auth.spec.ts`

**ステップ**:
1. メール認証をリクエスト
2. 認証メールを受信することを確認
3. 認証リンクをクリック
4. 認証完了を確認

**期待結果**: メール認証成功

---

### キャラクター機能

#### 1-2-4: ブロックした作成者のキャラクター検索除外確認
**テストファイル**: `e2e/user-character.spec.ts`

**ステップ**:
1. 他ユーザーのプロフィールにアクセス
2. ユーザーブロックを実行
3. キャラクター検索を実行
4. ブロックしたユーザーのキャラクターが検索結果に表示されないことを確認
5. キャラクター一覧からも除外されることを確認
6. ランキングからも除外されることを確認

**期待結果**: ブロックしたユーザーのキャラクターが検索結果から除外

---

#### 1-3-1: キャラクター作成（AI生成機能使用）
**テストファイル**: `e2e/user-character.spec.ts`

**ステップ**:
1. キャラクター作成ページにアクセス
2. カテゴリーを選択
3. AIプロフィール生成ボタンをクリック
4. 生成された名前、説明を確認
5. AI詳細設定生成ボタンをクリック
6. 生成された詳細設定を確認
7. AI最初の状況生成ボタンをクリック
8. 生成された最初の状況、最初のメッセージを確認
9. 画像をアップロード（複数枚）
10. メイン画像を設定
11. ハッシュタグを追加
12. 公開設定を選択（公開/非公開）
13. セーフティフィルターを設定
14. 保存を実行
15. 作成完了を確認
16. 作成したキャラクターが自分のキャラクターリストに表示されることを確認

**期待結果**: AI生成機能を使用してキャラクター作成成功

---

#### 1-3-3: キャラクター編集
**テストファイル**: `e2e/user-character.spec.ts`

**ステップ**:
1. 自分のキャラクター管理ページにアクセス
2. 編集するキャラクターを選択
3. 編集ページに移動
4. 情報を修正（名前、説明など）
5. 画像を追加/削除
6. 保存を実行
7. 変更事項が反映されていることを確認
8. キャラクター詳細ページで変更を確認

**期待結果**: 編集成功、変更事項が反映

---

#### 1-3-4: キャラクター削除
**テストファイル**: `e2e/user-character.spec.ts`

**ステップ**:
1. 自分のキャラクター管理ページにアクセス
2. 削除するキャラクターを選択
3. 削除ボタンをクリック
4. 確認ダイアログで確認
5. 削除完了を確認
6. キャラクター一覧で削除されたキャラクターが表示されないことを確認

**期待結果**: 削除成功、一覧から削除

---

#### 1-3-5: キャラクタークローン
**テストファイル**: `e2e/user-character.spec.ts`

**ステップ**:
1. 他ユーザーが作成したキャラクター詳細ページにアクセス
2. クローンボタンをクリック
3. クローンされたキャラクターが自分のキャラクターリストに追加されることを確認
4. クローンされたキャラクターが編集可能であることを確認

**期待結果**: クローン成功、自分のリストに追加

---

#### 1-3-6: キャラクターExport
**テストファイル**: `e2e/user-character.spec.ts`

**ステップ**:
1. 自分のキャラクター管理ページにアクセス
2. Exportするキャラクターを選択
3. Exportボタンをクリック
4. JSONファイルがダウンロードされることを確認

**期待結果**: JSONファイルダウンロード成功

---

#### 1-3-7: キャラクターImport
**テストファイル**: `e2e/user-character.spec.ts`

**ステップ**:
1. キャラクター作成ページにアクセス
2. Importボタンをクリック
3. JSONファイルを選択
4. データがロードされることを確認
5. 編集後、保存可能であることを確認

**期待結果**: Import成功、データがロード

---

### チャット機能

#### 1-4-4: チャットキャンセル
**テストファイル**: `e2e/chat.spec.ts`

**ステップ**:
1. チャット中の状態でキャンセルボタンをクリック
2. キャンセル確認ダイアログが表示される
3. キャンセルを実行
4. チャットがキャンセルされたことを確認
5. ポイント返金を確認（必要に応じて）

**期待結果**: キャンセル成功、ポイント返金

---

#### 1-4-5: チャットノート作成
**テストファイル**: `e2e/misc-features.spec.ts`

**ステップ**:
1. チャット画面でノート機能を使用
2. ノートを作成
3. 保存を確認
4. 次のアクセス時にノートが維持されることを確認

**期待結果**: ノート作成成功、次回アクセス時に保持

---

#### 1-4-6: セーフティフィルター制約確認
**テストファイル**: `e2e/misc-features.spec.ts`

**ステップ**:
1. セーフティフィルターON状態を確認
2. セーフティフィルターOFFキャラクター詳細ページにアクセス
3. "チャット開始"ボタンをクリックしようとする
4. エラーメッセージが表示されることを確認（チャット開始不可）
5. セーフティフィルターOFFに変更
6. 再度チャット開始を試みる
7. チャット開始可能であることを確認

**期待結果**: セーフティフィルターが正常に動作

---

#### 1-4-7: チャットランキング反映確認
**テストファイル**: `e2e/misc-features.spec.ts`

**ステップ**:
1. キャラクターとチャット開始
2. 複数のメッセージを交換（最低5個以上）
3. ランキングページにアクセス
4. 該当キャラクターがランキングに反映されていることを確認
5. チャット数が正確に集計されていることを確認
6. リアルタイム/日次/週次/月次ランキングすべてを確認

**期待結果**: ランキングに反映される

---

### ポイント・決済機能

#### 1-5-2: ポイントチャージ
**テストファイル**: `e2e/user-points.spec.ts`

**ステップ**:
1. ポイントページにアクセス
2. チャージボタンをクリック
3. 金額を選択または入力
4. 決済を進行（Stripe連動）
5. 決済完了を確認
6. ポイントページにリダイレクトされることを確認
7. チャージされたポイントが残高に反映されていることを確認

**期待結果**: ポイントチャージ成功、残高に反映

---

#### 1-5-4: ポイント使用確認
**テストファイル**: `e2e/user-points.spec.ts`

**ステップ**:
1. チャットメッセージを送信
2. ポイント減額を確認
3. ポイントページで残高を確認
4. 使用履歴を確認（可能な場合）

**期待結果**: ポイントが正しく使用される

---

### ソーシャル機能

#### 1-6-2: 他ユーザーのプロフィール確認
**テストファイル**: `e2e/user-social.spec.ts`

**ステップ**:
1. 他ユーザーのプロフィールページにアクセス
2. プロフィール情報が表示されることを確認
3. 該当ユーザーが作成したキャラクターリストが表示されることを確認
4. フォローボタンが表示されることを確認
5. ブロックボタンが表示されることを確認（ある場合）

**期待結果**: 他ユーザーのプロフィールが正しく表示される

---

#### 1-6-4: フォロワー/フォロー中一覧確認
**テストファイル**: `e2e/user-social.spec.ts`

**ステップ**:
1. プロフィールページにアクセス
2. フォロワー数またはフォロー中数をクリック
3. フォロワーリストが表示されることを確認
4. フォロー中リストが表示されることを確認
5. リストからユーザーをクリックすると該当ユーザーのプロフィールに移動することを確認

**期待結果**: フォロワー/フォロー中一覧が正しく表示される

---

#### 1-6-5: ユーザーブロック/アンブロック
**テストファイル**: `e2e/user-social.spec.ts`

**ステップ**:
1. 他ユーザーのプロフィールページにアクセス
2. ブロックボタンをクリック
3. ブロック確認ダイアログが表示される
4. ブロックを実行
5. ブロック完了を確認
6. ブロックしたユーザーリストで確認
7. ブロックしたユーザーのキャラクターが検索結果から除外されることを確認
8. アンブロックを実行
9. アンブロック後、再度検索結果に表示されることを確認

**期待結果**: ブロック/アンブロックが正常に動作

---

#### 1-6-6: ブロックしたユーザー一覧確認
**テストファイル**: `e2e/user-social.spec.ts`

**ステップ**:
1. マイページまたは設定ページにアクセス
2. ブロックしたユーザー一覧メニューを選択
3. ブロックしたユーザー一覧が表示されることを確認
4. アンブロック機能が動作することを確認

**期待結果**: ブロックしたユーザー一覧が正しく表示される

---

#### 1-6-8: コメント作成
**テストファイル**: `e2e/user-social.spec.ts`

**ステップ**:
1. キャラクター詳細ページにアクセス
2. コメント入力欄にコメントを作成
3. コメント作成ボタンをクリック
4. コメントがコメントリストに追加されることを確認
5. 作成者情報、作成時間が表示されることを確認

**期待結果**: コメント作成成功

---

#### 1-6-9: コメント削除
**テストファイル**: `e2e/user-social.spec.ts`

**ステップ**:
1. 自分が作成したコメントがあるキャラクター詳細ページにアクセス
2. コメント削除ボタンをクリック
3. 削除確認ダイアログが表示される
4. 削除を実行
5. コメントがリストから削除されることを確認

**期待結果**: コメント削除成功

---

#### 1-6-10: コメント通知確認
**テストファイル**: `e2e/user-social.spec.ts`

**ステップ**:
1. 他ユーザーが自分のキャラクターにコメントを作成
2. 通知ページにアクセス
3. コメント通知が表示されることを確認
4. 通知をクリックすると該当キャラクター詳細ページに移動することを確認

**期待結果**: コメント通知が正しく表示される

---

### 通知機能

#### 1-7-3: 通知削除
**テストファイル**: `e2e/user-notifications.spec.ts`

**ステップ**:
1. 通知ページにアクセス
2. 通知削除ボタンをクリック
3. 削除を確認
4. 通知がリストから削除されることを確認

**期待結果**: 通知削除成功

---

#### 1-7-4: 未読通知数確認
**テストファイル**: `e2e/user-notifications.spec.ts`

**ステップ**:
1. ヘッダーまたは通知アイコンを確認
2. 未読通知数バッジが表示されることを確認
3. 通知ページにアクセス後、既読処理
4. 未読数が減少することを確認

**期待結果**: 未読通知数が正しく表示される

---

#### 1-7-5: フォロー通知確認
**テストファイル**: `e2e/user-notifications.spec.ts`

**ステップ**:
1. 他ユーザーが自分をフォロー
2. 通知ページでフォロー通知を確認
3. 通知をクリックすると該当ユーザーのプロフィールに移動することを確認

**期待結果**: フォロー通知が正しく表示される

---

#### 1-7-6: いいね通知確認
**テストファイル**: `e2e/user-notifications.spec.ts`

**ステップ**:
1. 他ユーザーが自分のキャラクターにいいね
2. 通知ページでいいね通知を確認
3. 通知をクリックすると該当キャラクター詳細ページに移動することを確認

**期待結果**: いいね通知が正しく表示される

---

### ランキング機能

#### 1-8-3: ランキングからキャラクターをクリック
**テストファイル**: `e2e/user-ranking.spec.ts`

**ステップ**:
1. ランキングページにアクセス
2. ランキングリストからキャラクターを選択
3. 該当キャラクター詳細ページに移動することを確認

**期待結果**: キャラクター詳細ページに移動

---

### お問い合わせ・通報機能

#### 1-9-3: 自分のお問い合わせ/通報一覧確認
**テストファイル**: `e2e/user-inquiries.spec.ts`

**ステップ**:
1. マイページ > お問い合わせにアクセス
2. 自分が作成したお問い合わせ/通報リストが表示されることを確認
3. 状態が表示されることを確認（待機中、レビュー中、解決済み、拒否済み）
4. フィルタリング機能を確認（種類別、状態別）
5. 検索機能を確認

**期待結果**: お問い合わせ/通報一覧が正しく表示される

---

#### 1-9-4: お問い合わせ回答確認
**テストファイル**: `e2e/user-inquiries.spec.ts`

**ステップ**:
1. 管理者がお問い合わせに回答を作成
2. 通知ページで回答通知を確認
3. お問い合わせ詳細で管理者回答を確認

**期待結果**: 管理者回答が正しく表示される

---

### ペルソナ機能

#### 1-10-3: ペルソナ編集
**テストファイル**: `e2e/user-persona.spec.ts`

**ステップ**:
1. ペルソナリストから編集するペルソナを選択
2. 情報を修正
3. 保存を実行
4. 変更事項が反映されることを確認

**期待結果**: 編集成功、変更事項が反映

---

#### 1-10-4: ペルソナ削除
**テストファイル**: `e2e/user-persona.spec.ts`

**ステップ**:
1. ペルソナリストから削除するペルソナを選択
2. 削除を実行
3. 削除を確認
4. リストから削除されることを確認

**期待結果**: 削除成功、リストから削除

---

#### 1-10-5: デフォルトペルソナ設定
**テストファイル**: `e2e/user-persona.spec.ts`

**ステップ**:
1. ペルソナリストからデフォルトペルソナを設定
2. チャット時に該当ペルソナ情報が使用されることを確認

**期待結果**: デフォルトペルソナが正しく設定される

---

### お知らせ・ガイド・約款

#### 1-11-3: ガイド確認
**テストファイル**: `e2e/user-notices.spec.ts`

**ステップ**:
1. ガイドページにアクセス
2. ガイドリストが表示されることを確認
3. カテゴリー別にソートされることを確認
4. ガイド内容を確認

**期待結果**: ガイドが正しく表示される

---

#### 1-11-4: 約款確認
**テストファイル**: `e2e/user-notices.spec.ts`

**ステップ**:
1. 約款ページにアクセス
2. 約款リストが表示されることを確認（利用約款、個人情報処理方針など）
3. 約款詳細内容が表示されることを確認

**期待結果**: 約款が正しく表示される

---

### 管理者機能

#### 2-1-2: 権限別アクセス制御確認
**テストファイル**: `e2e/admin-user-management.spec.ts`

**ステップ**:
1. MODERATOR権限でログイン
2. MODERATORがアクセス可能なメニューのみが表示されることを確認
3. CHAR_MANAGER権限でログイン
4. CHAR_MANAGERがアクセス可能なメニューのみが表示されることを確認
5. SUPER_ADMIN権限でログイン
6. すべての管理メニューにアクセス可能であることを確認

**期待結果**: 権限に応じたメニュー表示

---

#### 2-1-3: 一般ユーザーアクセス遮断確認
**テストファイル**: `e2e/admin-user-management.spec.ts`

**ステップ**:
1. 一般ユーザーアカウントでログイン
2. 管理画面にアクセスしようとする
3. アクセス遮断または警告メッセージを確認
4. リダイレクトを確認

**期待結果**: 一般ユーザーは管理画面にアクセス不可

---

#### 2-2-3: ユーザー権限変更
**テストファイル**: `e2e/admin-user-management.spec.ts`

**ステップ**:
1. ユーザー管理ページにアクセス
2. ユーザーリストから権限ドロップダウンを選択
3. 権限を変更（USER → MODERATORなど）
4. 変更が自動保存されることを確認
5. 変更成功メッセージを確認
6. リストを再取得後、変更事項が反映されることを確認

**期待結果**: 権限変更成功

---

#### 2-2-4: ユーザー情報編集
**テストファイル**: `e2e/admin-user-management.spec.ts`

**ステップ**:
1. ユーザー管理ページにアクセス
2. ユーザー編集ボタンをクリック
3. 編集モーダルが表示されることを確認
4. 名前、ニックネーム、メールアドレス、電話番号、自己紹介を修正
5. ポイントを手動設定（無料ポイント、有料ポイント）
6. 生年月日、未成年者かどうかを修正
7. 保存を実行
8. 変更事項が反映されることを確認

**期待結果**: ユーザー情報編集成功

---

#### 2-2-6: ユーザー停止解除
**テストファイル**: `e2e/admin-user-management.spec.ts`

**ステップ**:
1. ユーザー管理ページにアクセス
2. 停止中のユーザーを選択
3. 停止解除ボタンをクリック
4. 解除を実行
5. 停止解除完了メッセージを確認
6. ユーザーリストで停止状態が削除されることを確認
7. 停止解除されたユーザーがログイン可能であることを確認

**期待結果**: 停止解除成功

---

#### 2-2-7: ユーザーアカウントロック解除
**テストファイル**: `e2e/admin-user-management.spec.ts`

**ステップ**:
1. ユーザー管理ページにアクセス
2. アカウントがロックされたユーザーを確認
3. ロック解除ボタンをクリック
4. 解除を実行
5. ロック解除完了を確認
6. ユーザーがログイン可能であることを確認

**期待結果**: ロック解除成功

---

#### 2-2-8: ユーザー削除
**テストファイル**: `e2e/admin-user-management.spec.ts`

**ステップ**:
1. ユーザー管理ページにアクセス
2. 削除するユーザーを選択
3. 削除ボタンをクリック
4. 削除確認ダイアログが表示される
5. 削除を実行
6. 削除完了メッセージを確認
7. ユーザーリストから削除されることを確認
8. 削除されたユーザーが作成したキャラクターが匿名化されたことを確認

**期待結果**: ユーザー削除成功、キャラクター匿名化

---

#### 2-2-9: ユーザーメール認証
**テストファイル**: `e2e/admin-user-management.spec.ts`

**ステップ**:
1. ユーザー管理ページにアクセス
2. ユーザーメール認証ボタンをクリック
3. 認証を実行
4. 認証完了を確認

**期待結果**: メール認証成功

---

#### 2-3-2: キャラクター検索
**テストファイル**: `e2e/admin-character-management.spec.ts`

**ステップ**:
1. キャラクター管理ページにアクセス
2. 検索窓にキャラクター名を入力
3. 検索を実行
4. 検索結果が表示されることを確認
5. ページネーション動作を確認

**期待結果**: 検索結果が正しく表示される

---

#### 2-3-4: キャラクター編集
**テストファイル**: `e2e/admin-character-management.spec.ts`

**ステップ**:
1. キャラクター管理ページにアクセス
2. 編集するキャラクターを選択
3. 編集ボタンをクリック
4. 編集ページに移動
5. キャラクター情報を修正
6. 保存を実行
7. 変更事項が反映されることを確認

**期待結果**: 編集成功、変更事項が反映

---

#### 2-3-5: キャラクター削除
**テストファイル**: `e2e/admin-character-management.spec.ts`

**ステップ**:
1. キャラクター管理ページにアクセス
2. 削除するキャラクターを選択
3. 削除ボタンをクリック
4. 削除確認ダイアログが表示される
5. 削除を実行
6. 削除完了メッセージを確認
7. キャラクターリストから削除されることを確認
8. 一般ユーザー画面からも削除されることを確認

**期待結果**: 削除成功、一般ユーザー画面からも削除

---

#### 2-3-6: キャラクターExport
**テストファイル**: `e2e/admin-character-management.spec.ts`

**ステップ**:
1. キャラクター管理ページにアクセス
2. Exportするキャラクターを選択
3. Exportボタンをクリック
4. JSONファイルがダウンロードされることを確認

**期待結果**: JSONファイルダウンロード成功

---

#### 2-4-3: お知らせ編集
**テストファイル**: `e2e/admin-notices.spec.ts`

**ステップ**:
1. お知らせ管理ページにアクセス
2. 編集するお知らせを選択
3. 編集を実行
4. 内容を修正
5. 保存を実行
6. 変更事項が反映されることを確認

**期待結果**: 編集成功、変更事項が反映

---

#### 2-4-4: お知らせ削除
**テストファイル**: `e2e/admin-notices.spec.ts`

**ステップ**:
1. お知らせ管理ページにアクセス
2. 削除するお知らせを選択
3. 削除を実行
4. 削除を確認
5. リストから削除されることを確認

**期待結果**: 削除成功、リストから削除

---

#### 2-5-3: ガイド編集
**テストファイル**: `e2e/admin-guides.spec.ts`

**ステップ**:
1. ガイド管理ページにアクセス
2. 編集するガイドを選択
3. 情報を修正
4. 保存を実行
5. 変更事項が反映されることを確認

**期待結果**: 編集成功、変更事項が反映

---

#### 2-5-4: ガイド削除
**テストファイル**: `e2e/admin-guides.spec.ts`

**ステップ**:
1. ガイド管理ページにアクセス
2. 削除するガイドを選択
3. 削除を実行
4. 削除を確認
5. リストから削除されることを確認

**期待結果**: 削除成功、リストから削除

---

#### 2-6-3: バナー編集
**テストファイル**: `e2e/admin-banners.spec.ts`

**ステップ**:
1. バナー管理ページにアクセス
2. 編集するバナーを選択
3. 情報を修正
4. 保存を実行
5. 変更事項が反映されることを確認

**期待結果**: 編集成功、変更事項が反映

---

#### 2-6-4: バナー削除
**テストファイル**: `e2e/admin-banners.spec.ts`

**ステップ**:
1. バナー管理ページにアクセス
2. 削除するバナーを選択
3. 削除を実行
4. 削除を確認
5. リストから削除されることを確認

**期待結果**: 削除成功、リストから削除

---

#### 2-7-2: 約款編集
**テストファイル**: `e2e/admin-terms.spec.ts`

**ステップ**:
1. 約款管理ページにアクセス
2. 編集する約款を選択
3. 内容を修正（マークダウン形式）
4. 保存を実行
5. 変更事項が反映されることを確認
6. 一般ユーザー画面で変更された約款が表示されることを確認

**期待結果**: 約款編集成功、一般ユーザー画面に反映

---

#### 2-8-3: 通報詳細確認
**テストファイル**: `e2e/admin-reports.spec.ts`

**ステップ**:
1. 通報管理ページにアクセス
2. 通報を選択
3. 通報詳細情報が表示されることを確認
4. 通報内容、通報対象キャラクター/ユーザー情報を確認

**期待結果**: 通報詳細が正しく表示される

---

#### 2-8-4: 通報状態変更
**テストファイル**: `e2e/admin-reports.spec.ts`

**ステップ**:
1. 通報管理ページにアクセス
2. 通報を選択
3. 状態を変更（待機中 → レビュー中 → 解決済みなど）
4. 管理者メモを入力
5. 保存を実行
6. 状態変更を確認

**期待結果**: 状態変更成功

---

#### 2-8-5: 通報処理（キャラクター措置）
**テストファイル**: `e2e/admin-reports.spec.ts`

**ステップ**:
1. 通報管理ページにアクセス
2. 通報を選択
3. キャラクター措置を選択（非公開、削除など）
4. 措置理由を入力
5. 措置を実行
6. 措置完了を確認
7. キャラクターが適切に処理されることを確認

**期待結果**: 通報処理成功、キャラクターが適切に処理

---

#### 2-9-1: 統計確認
**テストファイル**: `e2e/admin-user-management.spec.ts`

**ステップ**:
1. 管理者ダッシュボードにアクセス
2. 統計情報が表示されることを確認（ユーザー数、キャラクター数、チャット数など）
3. 期間別統計を確認
4. グラフやチャートが表示されることを確認

**期待結果**: 統計情報が正しく表示される

---

#### 2-10-3: IPモニタリング
**テストファイル**: `e2e/admin-ip-management.spec.ts`

**ステップ**:
1. IPモニタリングページにアクセス
2. IPアクセスログを確認
3. 異常アクセスパターンを確認
4. IP統計を確認

**期待結果**: IPモニタリングが正しく動作

---

### その他機能

#### 3-1: お問い合わせ（すべての種類）
**テストファイル**: `e2e/user-inquiries.spec.ts`

**ステップ**:
- システム問題、返金リクエスト、機能リクエスト、バグレポートなど、すべての種類のお問い合わせを作成できることを確認

**期待結果**: すべての種類のお問い合わせが作成可能

---

#### 3-2: いいね（押す、解除、通知、集計）
**テストファイル**: `e2e/user-social.spec.ts`

**ステップ**:
- いいねを押す、解除、通知、集計がすべて正常に動作することを確認

**期待結果**: いいね機能が完全に動作

---

#### 3-4: ブロック（検索/一覧/ランキング除外、解除後再表示）
**テストファイル**: `e2e/user-social.spec.ts`

**ステップ**:
- ブロックしたユーザーのキャラクターが検索/一覧/ランキングから除外されることを確認
- ブロック解除後、再度表示されることを確認

**期待結果**: ブロック機能が完全に動作

---

#### 3-6: ペルソナ（チャットで使用、変更）
**テストファイル**: `e2e/user-persona.spec.ts`

**ステップ**:
- ペルソナをチャットで使用できることを確認
- ペルソナを変更できることを確認

**期待結果**: ペルソナ機能が正常に動作

---

#### 3-7: 画像生成
**テストファイル**: `e2e/points-critical.spec.ts` (P0-2)

**ステップ**:
- 画像生成が正常に動作することを確認
- ポイントが正しく減額されることを確認

**期待結果**: 画像生成成功、ポイント減額

---

#### 3-8: クローン
**テストファイル**: `e2e/user-character.spec.ts` (1-3-5)

**ステップ**:
- キャラクターをクローンできることを確認

**期待結果**: クローン成功

---

#### 3-9: Export/Import
**テストファイル**: `e2e/user-character.spec.ts` (1-3-6, 1-3-7)

**ステップ**:
- キャラクターをExport/Importできることを確認

**期待結果**: Export/Import成功

---

#### 3-10: コメント（作成、削除、通知）
**テストファイル**: `e2e/user-social.spec.ts` (1-6-8, 1-6-9, 1-6-10)

**ステップ**:
- コメントを作成、削除、通知がすべて正常に動作することを確認

**期待結果**: コメント機能が完全に動作

---

#### 3-11: 通知（種類別確認）
**テストファイル**: `e2e/user-notifications.spec.ts`

**ステップ**:
- フォロー、いいね、コメントなど、すべての種類の通知が正しく表示されることを確認

**期待結果**: すべての種類の通知が正常に動作

---

#### 3-12: チャット詳細機能（メモリー、ノート、キャンセル）
**テストファイル**: `e2e/misc-features.spec.ts`, `e2e/chat.spec.ts`

**ステップ**:
- メモリー、ノート、キャンセル機能がすべて正常に動作することを確認

**期待結果**: チャット詳細機能が完全に動作

---

#### 3-13: プロフィール（統計、編集）
**テストファイル**: `e2e/user-social.spec.ts`

**ステップ**:
- プロフィールの統計と編集が正しく動作することを確認

**期待結果**: プロフィール機能が正常に動作

---

#### 3-14: 検索（ハッシュタグ、名前/説明、ソート）
**テストファイル**: `e2e/user-character.spec.ts`

**ステップ**:
- ハッシュタグ、名前/説明、ソート機能がすべて正常に動作することを確認

**期待結果**: 検索機能が完全に動作

---

#### 3-15: 管理者詳細機能
**テストファイル**: `e2e/admin-*.spec.ts`

**ステップ**:
- すべての管理者機能が正常に動作することを確認

**期待結果**: 管理者機能が完全に動作

---

#### 3-16: エラーハンドリング
**テストファイル**: `e2e/points-critical.spec.ts` (P0-5)

**ステップ**:
- エラーが正しく処理されることを確認

**期待結果**: エラーハンドリングが正常に動作

---

## まとめ

- **P0（クリティカル）**: 6個のテスト
- **P1（重要）**: 40個のテスト
- **P2（通常）**: 24個のテスト
- **合計**: 70個のテスト

すべてのテストが実装済みで、自動実行可能です。















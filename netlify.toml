[functions]
  included_files = ["gcp/sa.json"]
  # OpenAI Embedding ÁîüÊàê„Å™„Å©ÊôÇÈñì„ÅÆ„Åã„Åã„ÇãÂá¶ÁêÜ„ÅÆ„Åü„ÇÅ„Çø„Ç§„É†„Ç¢„Ç¶„Éà„Çí30Áßí„Å´Âª∂Èï∑
  node_bundler = "esbuild"

[functions."*"]
  # ÂÖ®„Å¶„ÅÆFunction„Å´ÂØæ„Åó„Å¶30Áßí„ÅÆ„Çø„Ç§„É†„Ç¢„Ç¶„Éà„ÇíË®≠ÂÆö
  max_duration = 30
  # ÁîªÂÉè„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„ÅÆ„Åü„ÇÅÊúÄÂ§ß„Éö„Ç§„É≠„Éº„Éâ„Çµ„Ç§„Ç∫„Çí30MB„Å´Êã°Â§ßÔºàNetlify„ÅÆÊúÄÂ§ßÂÄ§Ôºâ
  # ‚Äª Netlify Pro„Éó„É©„É≥‰ª•‰∏ä„ÅßÂà©Áî®ÂèØËÉΩ
  payload_size_limit = "30mb"

[build]
  # ‚ñº‚ñº‚ñº„ÄêÈáçË¶Å„Äë„Éì„É´„ÉâÊôÇ„Å´GSM„Åã„ÇâÁí∞Â¢ÉÂ§âÊï∞„ÇíÂèñÂæó„Åó„Å¶NEXT_PUBLIC_Â§âÊï∞„ÇíË®≠ÂÆö ‚ñº‚ñº‚ñº
  command = """
    echo "üîê Loading secrets from Google Secret Manager..." && \
    export NEXT_PUBLIC_SUPABASE_URL=$(gcloud secrets versions access latest --secret="SUPABASE_URL" 2>/dev/null || echo $SUPABASE_URL) && \
    export NEXT_PUBLIC_SUPABASE_ANON_KEY=$(gcloud secrets versions access latest --secret="SUPABASE_ANON_KEY" 2>/dev/null || echo $NEXT_PUBLIC_SUPABASE_ANON_KEY) && \
    echo "‚úÖ NEXT_PUBLIC_SUPABASE_URL: ${NEXT_PUBLIC_SUPABASE_URL:0:30}..." && \
    echo "‚úÖ NEXT_PUBLIC_SUPABASE_ANON_KEY: ${NEXT_PUBLIC_SUPABASE_ANON_KEY:0:30}..." && \
    npm run build
  """
  # ‚ñ≤‚ñ≤‚ñ≤

[build.environment]
  # Secret Manager „Çí‰ΩøÁî®„Åô„Çã„Åü„ÇÅ secrets scanning „ÇíÁÑ°ÂäπÂåñ
  SECRETS_SCAN_SMART_DETECTION_ENABLED = "false"